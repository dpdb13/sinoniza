<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <title>Sinoniza - Flashcards de Sinónimos</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* ========== RESET Y BASE ========== */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --primary: #8B5CF6;
      --primary-hover: #7C3AED;
      --primary-light: #A78BFA;
      --primary-pale: rgba(139, 92, 246, 0.15);
      --success: #10B981;
      --success-hover: #059669;
      --danger: #EF4444;
      --danger-hover: #DC2626;
      --bg: #0D0D12;
      --surface: #1A1A24;
      --surface-hover: #252532;
      --surface-elevated: #2A2A3A;
      --text: #FFFFFF;
      --text-secondary: #A0A0B8;
      --text-muted: #6B6B80;
      --border: #2A2A3A;
      --radius-sm: 10px;
      --radius-md: 14px;
      --radius-lg: 20px;
      --radius-xl: 28px;
      --shadow: 0 4px 16px rgba(0,0,0,0.4);
      --shadow-glow: 0 0 30px rgba(139, 92, 246, 0.2);
    }

    body {
      font-family: 'DM Sans', system-ui, -apple-system, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100dvh;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow-x: hidden;
      -webkit-tap-highlight-color: transparent;
    }

    /* ========== PANTALLA DE INICIO ========== */
    .start-screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100dvh;
      padding: 24px;
      width: 100%;
      max-width: 480px;
      gap: 32px;
      animation: fadeIn 0.4s ease;
    }

    .logo {
      font-size: 48px;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: -1px;
    }

    .subtitle {
      color: var(--text-secondary);
      font-size: 16px;
      text-align: center;
      margin-top: -20px;
    }

    .stats-box {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 20px;
      width: 100%;
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 12px;
    }

    .stat-item {
      text-align: center;
    }

    .stat-value {
      font-size: 28px;
      font-weight: 700;
      color: var(--primary-light);
    }

    .stat-label {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    /* ========== FILTRO DE CATEGORÍAS ========== */
    .category-section {
      width: 100%;
    }

    .category-title {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: 12px;
      font-weight: 500;
    }

    .category-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .chip {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      padding: 8px 14px;
      font-size: 13px;
      color: var(--text-secondary);
      cursor: pointer;
      transition: all 150ms ease;
      font-family: inherit;
      user-select: none;
    }

    .chip:hover { background: var(--surface-hover); }

    .chip.active {
      background: var(--primary-pale);
      border-color: var(--primary);
      color: var(--primary-light);
    }

    .chip .chip-count {
      font-size: 11px;
      opacity: 0.6;
      margin-left: 4px;
    }

    /* ========== BOTONES ========== */
    .btn {
      font-family: inherit;
      font-size: 16px;
      font-weight: 600;
      border: none;
      border-radius: var(--radius-md);
      padding: 16px 32px;
      cursor: pointer;
      transition: all 150ms ease;
      min-height: 52px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .start-buttons {
      display: flex;
      gap: 12px;
      width: 100%;
    }

    .btn-primary {
      background: var(--primary);
      color: white;
      width: 100%;
      font-size: 18px;
      box-shadow: var(--shadow-glow);
    }
    .btn-primary:hover { background: var(--primary-hover); }
    .btn-primary:active { transform: scale(0.98); }

    .btn-fails {
      background: var(--surface);
      color: var(--danger);
      border: 1px solid var(--danger);
      width: 100%;
      font-size: 16px;
      flex-direction: column;
      gap: 2px;
    }
    .btn-fails:hover { background: rgba(239, 68, 68, 0.1); }
    .btn-fails:active { transform: scale(0.98); }
    .btn-fails .fail-count {
      font-size: 12px;
      opacity: 0.7;
      font-weight: 400;
    }
    .btn-fails:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .btn-success {
      background: var(--success);
      color: white;
      flex: 1;
    }
    .btn-success:hover { background: var(--success-hover); }
    .btn-success:active { transform: scale(0.96); }

    .btn-danger {
      background: var(--danger);
      color: white;
      flex: 1;
    }
    .btn-danger:hover { background: var(--danger-hover); }
    .btn-danger:active { transform: scale(0.96); }

    .btn-ghost {
      background: transparent;
      color: var(--text-secondary);
      padding: 10px 16px;
      font-size: 14px;
    }
    .btn-ghost:hover { color: var(--text); background: var(--surface); }

    .btn-flip {
      background: var(--surface-elevated);
      color: var(--primary-light);
      border: 1px solid var(--primary);
      width: 100%;
      font-size: 17px;
    }
    .btn-flip:hover { background: var(--primary-pale); }
    .btn-flip:active { transform: scale(0.98); }

    /* ========== PANTALLA DE JUEGO ========== */
    .game-screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      height: 100dvh;
      padding: 12px 16px;
      width: 100%;
      max-width: 480px;
      animation: fadeIn 0.3s ease;
      overflow: hidden;
    }

    /* Header del juego */
    .game-header {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0 16px;
    }

    .progress-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .progress-stat {
      font-size: 13px;
      color: var(--text-secondary);
    }

    .progress-stat span {
      font-weight: 700;
      color: var(--text);
    }

    .accuracy {
      font-size: 13px;
      font-weight: 600;
    }

    .accuracy.good { color: var(--success); }
    .accuracy.mid { color: #F59E0B; }
    .accuracy.bad { color: var(--danger); }

    /* Gamificación: XP */
    .xp-bar-container {
      width: 100%;
      background: var(--surface);
      border-radius: 8px;
      height: 6px;
      overflow: hidden;
    }

    .xp-bar {
      height: 100%;
      background: var(--primary);
      border-radius: 8px;
      transition: width 0.5s ease;
    }

    .xp-display {
      font-size: 13px;
      color: var(--primary-light);
      font-weight: 600;
    }

    .streak-badge {
      font-size: 13px;
      font-weight: 600;
      padding: 2px 8px;
      border-radius: 8px;
      animation: pulse 0.3s ease;
    }

    .streak-fire {
      background: rgba(249, 115, 22, 0.15);
      color: #F97316;
    }

    .streak-ice {
      background: rgba(56, 189, 248, 0.15);
      color: #38BDF8;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.15); }
      100% { transform: scale(1); }
    }

    @keyframes xpPop {
      0% { opacity: 1; transform: translateY(0); }
      100% { opacity: 0; transform: translateY(-30px); }
    }

    .xp-popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 28px;
      font-weight: 700;
      pointer-events: none;
      z-index: 100;
      animation: xpPop 0.8s ease forwards;
    }

    .xp-popup.correct { color: var(--success); }
    .xp-popup.incorrect { color: var(--danger); }

    /* Nivel en inicio */
    .level-section {
      width: 100%;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 16px 20px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .level-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .level-name {
      font-size: 16px;
      font-weight: 700;
    }

    .level-xp {
      font-size: 13px;
      color: var(--text-muted);
    }

    /* Summary mejorado */
    .summary-xp-gained {
      text-align: center;
      font-size: 20px;
      font-weight: 700;
      color: var(--primary-light);
      padding: 8px 0;
    }

    .summary-level-up {
      text-align: center;
      font-size: 18px;
      font-weight: 700;
      color: #F59E0B;
      padding: 8px 0;
      animation: pulse 0.5s ease;
    }

    .summary-level-down {
      text-align: center;
      font-size: 18px;
      font-weight: 700;
      color: var(--danger);
      padding: 8px 0;
      animation: shake 0.5s ease;
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      20% { transform: translateX(-6px); }
      40% { transform: translateX(6px); }
      60% { transform: translateX(-4px); }
      80% { transform: translateX(4px); }
    }

    /* ========== POPUP CAMBIO DE NIVEL ========== */
    .level-popup-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 200;
      animation: fadeIn 0.2s ease;
      padding: 24px;
    }

    .level-popup {
      background: var(--surface);
      border-radius: var(--radius-xl);
      padding: 32px 28px;
      text-align: center;
      max-width: 320px;
      width: 100%;
      animation: levelPopIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      position: relative;
      overflow: hidden;
    }

    .level-popup.up {
      border: 2px solid #F59E0B;
      box-shadow: 0 0 40px rgba(245, 158, 11, 0.3);
    }

    .level-popup.down {
      border: 2px solid var(--danger);
      box-shadow: 0 0 40px rgba(239, 68, 68, 0.2);
    }

    .level-popup-emoji {
      font-size: 64px;
      line-height: 1;
      margin-bottom: 12px;
    }

    .level-popup-title {
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .level-popup.up .level-popup-title { color: #F59E0B; }
    .level-popup.down .level-popup-title { color: var(--danger); }

    .level-popup-level {
      font-size: 26px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .level-popup-msg {
      font-size: 14px;
      color: var(--text-secondary);
      line-height: 1.4;
    }

    .level-popup-dismiss {
      margin-top: 20px;
      background: var(--surface-hover);
      border: 1px solid var(--border);
      color: var(--text);
      border-radius: var(--radius-md);
      padding: 10px 24px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      font-family: inherit;
    }

    @keyframes levelPopIn {
      0% { opacity: 0; transform: scale(0.5); }
      100% { opacity: 1; transform: scale(1); }
    }

    /* ========== LA TARJETA (FLASHCARD) ========== */
    .card-area {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 100%;
      gap: 20px;
      padding: 8px 0;
      min-height: 0;
    }

    .card-container {
      width: 100%;
      max-width: 360px;
      height: clamp(280px, 55dvh, 480px);
      perspective: 1000px;
    }

    .card {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
    }

    .card.flipped {
      transform: rotateY(180deg);
    }

    .card-face {
      position: absolute;
      inset: 0;
      backface-visibility: hidden;
      -webkit-backface-visibility: hidden;
      border-radius: var(--radius-xl);
      display: grid;
      grid-template-rows: 40px 1fr 24px;
      align-items: center;
      justify-items: center;
      padding: 16px 20px;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .card-top-row {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .card-center {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 100%;
      place-self: center;
    }

    .card-front {
      background: linear-gradient(160deg, var(--surface) 0%, #1E1E2E 100%);
    }

    .card-back {
      background: linear-gradient(160deg, #1a1530 0%, #0D0D12 100%);
      transform: rotateY(180deg);
      border-color: var(--primary);
      box-shadow: var(--shadow-glow);
    }

    .card-category {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--primary-light);
      background: var(--primary-pale);
      padding: 4px 10px;
      border-radius: 6px;
    }

    .card-difficulty {
      font-size: 16px;
    }

    .card-word {
      font-weight: 700;
      text-align: center;
      line-height: 1.2;
      width: 100%;
      overflow-wrap: break-word;
      hyphens: none;
    }

    .card-word.size-xl { font-size: clamp(22px, 7vw, 36px); }
    .card-word.size-lg { font-size: clamp(18px, 5.5vw, 28px); }
    .card-word.size-md { font-size: clamp(16px, 4.5vw, 22px); }
    .card-word.size-sm { font-size: clamp(14px, 4vw, 19px); }

    .card-back .card-word {
      color: var(--primary-light);
    }

    .card-hint {
      margin-top: 12px;
      font-size: 14px;
      color: var(--text-secondary);
      text-align: center;
      line-height: 1.4;
      font-style: italic;
      max-width: 100%;
      padding: 0 4px;
    }

    .card-box-indicator {
      display: flex;
      gap: 6px;
    }

    .box-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--border);
    }

    .box-dot.filled {
      background: var(--primary);
    }

    /* ========== BOTONES DE RESULTADO ========== */
    .result-buttons {
      display: flex;
      gap: 12px;
      width: 100%;
      max-width: 360px;
      animation: slideUp 0.3s ease;
    }

    .action-area {
      width: 100%;
      max-width: 360px;
    }

    /* ========== PANTALLA DE RESUMEN ========== */
    .summary-screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100dvh;
      padding: 24px;
      width: 100%;
      max-width: 480px;
      gap: 24px;
      animation: fadeIn 0.4s ease;
    }

    .summary-title {
      font-size: 32px;
      font-weight: 700;
      margin-top: 24px;
    }

    .summary-stats {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      width: 100%;
    }

    .summary-stat {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius-md);
      padding: 16px;
      text-align: center;
    }

    .summary-stat-value {
      font-size: 32px;
      font-weight: 700;
    }

    .summary-stat-value.correct { color: var(--success); }
    .summary-stat-value.incorrect { color: var(--danger); }
    .summary-stat-value.total { color: var(--primary-light); }

    .summary-stat-label {
      font-size: 13px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .wrong-words-section {
      width: 100%;
    }

    .wrong-words-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--danger);
      margin-bottom: 12px;
    }

    .wrong-word-item {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      padding: 12px 16px;
      margin-bottom: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .wrong-word-item .word { font-weight: 600; }
    .wrong-word-item .arrow { color: var(--text-muted); margin: 0 8px; }
    .wrong-word-item .synonym { color: var(--primary-light); font-weight: 600; }

    .summary-buttons {
      display: flex;
      flex-direction: column;
      gap: 12px;
      width: 100%;
      margin-top: 8px;
    }

    .btn-secondary {
      background: var(--surface);
      border: 1px solid var(--border);
      color: var(--text);
      width: 100%;
    }
    .btn-secondary:hover { background: var(--surface-hover); }

    /* ========== RESET CONFIRM ========== */
    .reset-confirm {
      background: var(--surface);
      border: 1px solid var(--danger);
      border-radius: var(--radius-md);
      padding: 16px;
      width: 100%;
      text-align: center;
    }

    .reset-confirm p {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: 12px;
    }

    .reset-confirm-buttons {
      display: flex;
      gap: 8px;
      justify-content: center;
    }

    .btn-sm {
      padding: 8px 16px;
      font-size: 13px;
      min-height: auto;
    }

    /* ========== ANIMACIONES ========== */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(16px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes cardIn {
      from { opacity: 0; transform: scale(0.92); }
      to { opacity: 1; transform: scale(1); }
    }

    .card-enter {
      animation: cardIn 0.35s ease;
    }

    @media (prefers-reduced-motion: reduce) {
      .card { transition: none; }
      .card-enter, .result-buttons, .start-screen, .game-screen, .summary-screen { animation: none; }
    }

    /* ========== RESPONSIVE ========== */
    @media (min-width: 768px) {
      .card-container {
        max-width: 400px;
      }
      .card-word {
        font-size: 42px;
      }
    }

    /* Ocultar scrollbar */
    body::-webkit-scrollbar { display: none; }
    body { -ms-overflow-style: none; scrollbar-width: none; }
  </style>
</head>
<body>
  <div id="app"></div>

  <script>
    // ===================================================================
    // BASE DE DATOS DE SINÓNIMOS (210+ pares)
    // ===================================================================
    const SYNONYMS = [
      // ==================== VERBOS (~45) ====================
      { id: "v01", word: "alegrar", synonym: "regocijar", category: "Verbo", hint: "Causar alegría", difficulty: 2 },
      { id: "v02", word: "andar", synonym: "caminar", category: "Verbo", hint: "Desplazarse a pie", difficulty: 1 },
      { id: "v03", word: "arrojar", synonym: "lanzar", category: "Verbo", hint: "Tirar algo con fuerza", difficulty: 1 },
      { id: "v04", word: "auxiliar", synonym: "socorrer", category: "Verbo", hint: "Prestar ayuda", difficulty: 2 },
      { id: "v05", word: "buscar", synonym: "indagar", category: "Verbo", hint: "Intentar encontrar algo", difficulty: 2 },
      { id: "v06", word: "callar", synonym: "silenciar", category: "Verbo", hint: "Dejar de hablar", difficulty: 1 },
      { id: "v07", word: "comenzar", synonym: "iniciar", category: "Verbo", hint: "Dar principio a algo", difficulty: 1 },
      { id: "v08", word: "comprender", synonym: "entender", category: "Verbo", hint: "Captar el significado", difficulty: 1 },
      { id: "v09", word: "conseguir", synonym: "obtener", category: "Verbo", hint: "Lograr algo", difficulty: 1 },
      { id: "v10", word: "crear", synonym: "inventar", category: "Verbo", hint: "Producir algo nuevo", difficulty: 1 },
      { id: "v11", word: "desear", synonym: "anhelar", category: "Verbo", hint: "Querer con intensidad", difficulty: 2 },
      { id: "v12", word: "destruir", synonym: "aniquilar", category: "Verbo", hint: "Acabar con algo por completo", difficulty: 2 },
      { id: "v13", word: "dudar", synonym: "vacilar", category: "Verbo", hint: "No estar seguro", difficulty: 1 },
      { id: "v14", word: "elegir", synonym: "seleccionar", category: "Verbo", hint: "Escoger entre opciones", difficulty: 1 },
      { id: "v15", word: "emplear", synonym: "utilizar", category: "Verbo", hint: "Hacer uso de algo", difficulty: 1 },
      { id: "v16", word: "engañar", synonym: "embaucar", category: "Verbo", hint: "Inducir a creer algo falso", difficulty: 2 },
      { id: "v17", word: "enseñar", synonym: "instruir", category: "Verbo", hint: "Transmitir conocimientos", difficulty: 1 },
      { id: "v18", word: "escribir", synonym: "redactar", category: "Verbo", hint: "Componer un texto", difficulty: 1 },
      { id: "v19", word: "estimar", synonym: "apreciar", category: "Verbo", hint: "Valorar algo o a alguien", difficulty: 1 },
      { id: "v20", word: "examinar", synonym: "analizar", category: "Verbo", hint: "Estudiar con detalle", difficulty: 1 },
      { id: "v21", word: "ganar", synonym: "conquistar", category: "Verbo", hint: "Alcanzar la victoria", difficulty: 1 },
      { id: "v22", word: "hablar", synonym: "dialogar", category: "Verbo", hint: "Comunicarse con palabras", difficulty: 1 },
      { id: "v23", word: "imitar", synonym: "emular", category: "Verbo", hint: "Copiar las acciones de otro", difficulty: 2 },
      { id: "v24", word: "jurar", synonym: "prometer", category: "Verbo", hint: "Comprometerse solemnemente", difficulty: 1 },
      { id: "v25", word: "llorar", synonym: "sollozar", category: "Verbo", hint: "Derramar lágrimas", difficulty: 1 },
      { id: "v26", word: "morar", synonym: "habitar", category: "Verbo", hint: "Vivir en un lugar", difficulty: 2 },
      { id: "v27", word: "obedecer", synonym: "acatar", category: "Verbo", hint: "Cumplir una orden", difficulty: 2 },
      { id: "v28", word: "pensar", synonym: "reflexionar", category: "Verbo", hint: "Ejercitar la mente", difficulty: 1 },
      { id: "v29", word: "querer", synonym: "amar", category: "Verbo", hint: "Sentir afecto profundo", difficulty: 1 },
      { id: "v30", word: "romper", synonym: "quebrar", category: "Verbo", hint: "Separar en trozos", difficulty: 1 },
      { id: "v31", word: "subir", synonym: "ascender", category: "Verbo", hint: "Ir hacia arriba", difficulty: 1 },
      { id: "v32", word: "sufrir", synonym: "padecer", category: "Verbo", hint: "Experimentar dolor", difficulty: 1 },
      { id: "v33", word: "temer", synonym: "recelar", category: "Verbo", hint: "Sentir miedo", difficulty: 2 },
      { id: "v34", word: "unir", synonym: "juntar", category: "Verbo", hint: "Poner cosas juntas", difficulty: 1 },
      { id: "v35", word: "vencer", synonym: "derrotar", category: "Verbo", hint: "Ganar al contrario", difficulty: 1 },
      { id: "v36", word: "confesar", synonym: "admitir", category: "Verbo", hint: "Reconocer algo", difficulty: 1 },
      { id: "v37", word: "ceder", synonym: "conceder", category: "Verbo", hint: "Renunciar a algo en favor de otro", difficulty: 2 },
      { id: "v38", word: "dejar", synonym: "abandonar", category: "Verbo", hint: "Separarse de algo o alguien", difficulty: 1 },
      { id: "v39", word: "correr", synonym: "apresurar", category: "Verbo", hint: "Moverse rápidamente", difficulty: 1 },
      { id: "v40", word: "beber", synonym: "ingerir", category: "Verbo", hint: "Tomar un líquido", difficulty: 1 },
      { id: "v41", word: "poseer", synonym: "detentar", category: "Verbo", hint: "Tener algo en propiedad", difficulty: 2 },
      { id: "v42", word: "nacer", synonym: "surgir", category: "Verbo", hint: "Aparecer, venir al mundo", difficulty: 1 },
      { id: "v43", word: "saber", synonym: "conocer", category: "Verbo", hint: "Tener conocimiento de algo", difficulty: 1 },
      { id: "v44", word: "mirar", synonym: "observar", category: "Verbo", hint: "Dirigir la vista", difficulty: 1 },
      { id: "v45", word: "mostrar", synonym: "exhibir", category: "Verbo", hint: "Poner algo a la vista", difficulty: 2 },
      { id: "v46", word: "abolir", synonym: "suprimir", category: "Verbo", hint: "Dejar sin vigor una ley", difficulty: 2 },
      { id: "v47", word: "acudir", synonym: "asistir", category: "Verbo", hint: "Ir a un lugar", difficulty: 1 },
      { id: "v48", word: "advertir", synonym: "avisar", category: "Verbo", hint: "Poner sobre aviso", difficulty: 1 },
      { id: "v49", word: "agregar", synonym: "añadir", category: "Verbo", hint: "Sumar algo más", difficulty: 1 },
      { id: "v50", word: "aliviar", synonym: "mitigar", category: "Verbo", hint: "Reducir una molestia", difficulty: 2 },
      { id: "v51", word: "alzar", synonym: "elevar", category: "Verbo", hint: "Mover hacia arriba", difficulty: 1 },
      { id: "v52", word: "amenazar", synonym: "intimidar", category: "Verbo", hint: "Infundir miedo", difficulty: 1 },
      { id: "v53", word: "aportar", synonym: "contribuir", category: "Verbo", hint: "Dar algo para un fin", difficulty: 1 },
      { id: "v54", word: "atrapar", synonym: "capturar", category: "Verbo", hint: "Coger a quien huye", difficulty: 1 },
      { id: "v55", word: "aumentar", synonym: "incrementar", category: "Verbo", hint: "Hacer mayor en cantidad", difficulty: 1 },
      { id: "v56", word: "avistar", synonym: "divisar", category: "Verbo", hint: "Ver algo a lo lejos", difficulty: 2 },
      { id: "v57", word: "brotar", synonym: "germinar", category: "Verbo", hint: "Salir una planta de la tierra", difficulty: 2 },
      { id: "v58", word: "carecer", synonym: "faltar", category: "Verbo", hint: "No tener algo", difficulty: 1 },
      { id: "v59", word: "castigar", synonym: "sancionar", category: "Verbo", hint: "Imponer una pena", difficulty: 1 },
      { id: "v60", word: "cesar", synonym: "parar", category: "Verbo", hint: "Dejar de hacer algo", difficulty: 1 },
      { id: "v61", word: "colocar", synonym: "situar", category: "Verbo", hint: "Poner en un lugar", difficulty: 1 },
      { id: "v62", word: "combatir", synonym: "luchar", category: "Verbo", hint: "Pelear contra algo o alguien", difficulty: 1 },
      { id: "v63", word: "concluir", synonym: "finalizar", category: "Verbo", hint: "Dar fin a algo", difficulty: 1 },
      { id: "v64", word: "conducir", synonym: "guiar", category: "Verbo", hint: "Llevar en una dirección", difficulty: 1 },
      { id: "v65", word: "congregar", synonym: "reunir", category: "Verbo", hint: "Juntar personas en un lugar", difficulty: 2 },
      { id: "v66", word: "consentir", synonym: "permitir", category: "Verbo", hint: "Dar permiso", difficulty: 1 },
      { id: "v67", word: "construir", synonym: "edificar", category: "Verbo", hint: "Levantar una obra", difficulty: 1 },
      { id: "v68", word: "contemplar", synonym: "admirar", category: "Verbo", hint: "Mirar con atención y deleite", difficulty: 1 },
      { id: "v69", word: "convencer", synonym: "persuadir", category: "Verbo", hint: "Lograr que alguien acepte algo", difficulty: 2 },
      { id: "v70", word: "cruzar", synonym: "atravesar", category: "Verbo", hint: "Pasar de un lado a otro", difficulty: 1 },
      { id: "v71", word: "dañar", synonym: "perjudicar", category: "Verbo", hint: "Causar mal a algo o alguien", difficulty: 1 },
      { id: "v72", word: "delatar", synonym: "denunciar", category: "Verbo", hint: "Revelar la culpa de alguien", difficulty: 2 },
      { id: "v73", word: "deliberar", synonym: "meditar", category: "Verbo", hint: "Pensar antes de decidir", difficulty: 2 },
      { id: "v74", word: "demoler", synonym: "derribar", category: "Verbo", hint: "Tirar abajo una construcción", difficulty: 1 },
      { id: "v75", word: "desafiar", synonym: "retar", category: "Verbo", hint: "Provocar a alguien a competir", difficulty: 1 },
      { id: "v76", word: "descansar", synonym: "reposar", category: "Verbo", hint: "Dejar de trabajar para recuperarse", difficulty: 1 },
      { id: "v77", word: "descubrir", synonym: "hallar", category: "Verbo", hint: "Encontrar algo oculto", difficulty: 1 },
      { id: "v78", word: "despreciar", synonym: "desdeñar", category: "Verbo", hint: "Considerar indigno", difficulty: 2 },
      { id: "v79", word: "difundir", synonym: "propagar", category: "Verbo", hint: "Extender una noticia", difficulty: 2 },
      { id: "v80", word: "disminuir", synonym: "menguar", category: "Verbo", hint: "Hacer menor en cantidad", difficulty: 2 },
      { id: "v81", word: "elaborar", synonym: "confeccionar", category: "Verbo", hint: "Preparar algo con trabajo", difficulty: 2 },
      { id: "v82", word: "elogiar", synonym: "alabar", category: "Verbo", hint: "Decir cosas buenas de alguien", difficulty: 2 },
      { id: "v83", word: "emerger", synonym: "aflorar", category: "Verbo", hint: "Salir a la superficie", difficulty: 2 },
      { id: "v84", word: "enmendar", synonym: "corregir", category: "Verbo", hint: "Rectificar un error", difficulty: 1 },
      { id: "v85", word: "errar", synonym: "equivocarse", category: "Verbo", hint: "Cometer un fallo", difficulty: 1 },
      { id: "v86", word: "esconder", synonym: "ocultar", category: "Verbo", hint: "Poner donde no se vea", difficulty: 1 },
      { id: "v87", word: "exigir", synonym: "reclamar", category: "Verbo", hint: "Pedir con autoridad", difficulty: 1 },
      { id: "v88", word: "fallecer", synonym: "morir", category: "Verbo", hint: "Dejar de vivir", difficulty: 1 },
      { id: "v89", word: "fingir", synonym: "simular", category: "Verbo", hint: "Hacer creer algo falso", difficulty: 1 },
      { id: "v90", word: "forjar", synonym: "fraguar", category: "Verbo", hint: "Dar forma con esfuerzo", difficulty: 2 },
      { id: "v91", word: "fatigar", synonym: "cansar", category: "Verbo", hint: "Producir agotamiento", difficulty: 1 },
      { id: "v92", word: "gratificar", synonym: "recompensar", category: "Verbo", hint: "Dar algo como premio", difficulty: 2 },
      { id: "v93", word: "holgar", synonym: "descansar", category: "Verbo", hint: "Estar sin trabajar", difficulty: 2 },
      { id: "v94", word: "impedir", synonym: "obstaculizar", category: "Verbo", hint: "Poner trabas para que no se haga", difficulty: 1 },
      { id: "v95", word: "inquirir", synonym: "investigar", category: "Verbo", hint: "Indagar para averiguar", difficulty: 2 },

      // ==================== ADJETIVOS (~40) ====================
      { id: "a01", word: "bonito", synonym: "hermoso", category: "Adjetivo", hint: "Que tiene belleza", difficulty: 1 },
      { id: "a02", word: "rápido", synonym: "veloz", category: "Adjetivo", hint: "Que se mueve con ligereza", difficulty: 1 },
      { id: "a03", word: "grande", synonym: "enorme", category: "Adjetivo", hint: "De mucho tamaño", difficulty: 1 },
      { id: "a04", word: "pequeño", synonym: "diminuto", category: "Adjetivo", hint: "De poco tamaño", difficulty: 1 },
      { id: "a05", word: "fuerte", synonym: "robusto", category: "Adjetivo", hint: "Que tiene fuerza", difficulty: 1 },
      { id: "a06", word: "débil", synonym: "frágil", category: "Adjetivo", hint: "Que carece de fuerza", difficulty: 1 },
      { id: "a07", word: "alegre", synonym: "contento", category: "Adjetivo", hint: "Que siente gozo", difficulty: 1 },
      { id: "a08", word: "triste", synonym: "melancólico", category: "Adjetivo", hint: "Que siente pena", difficulty: 1 },
      { id: "a09", word: "valiente", synonym: "audaz", category: "Adjetivo", hint: "Que no siente miedo", difficulty: 1 },
      { id: "a10", word: "cobarde", synonym: "pusilánime", category: "Adjetivo", hint: "Que carece de valor", difficulty: 2 },
      { id: "a11", word: "inteligente", synonym: "sagaz", category: "Adjetivo", hint: "De agudo entendimiento", difficulty: 2 },
      { id: "a12", word: "torpe", synonym: "inepto", category: "Adjetivo", hint: "Falto de habilidad", difficulty: 2 },
      { id: "a13", word: "generoso", synonym: "dadivoso", category: "Adjetivo", hint: "Que da con liberalidad", difficulty: 2 },
      { id: "a14", word: "tacaño", synonym: "avaro", category: "Adjetivo", hint: "Que no quiere gastar", difficulty: 1 },
      { id: "a15", word: "amable", synonym: "cortés", category: "Adjetivo", hint: "Que trata bien a los demás", difficulty: 1 },
      { id: "a16", word: "grosero", synonym: "descortés", category: "Adjetivo", hint: "Falto de educación", difficulty: 1 },
      { id: "a17", word: "fiel", synonym: "leal", category: "Adjetivo", hint: "Que guarda fidelidad", difficulty: 1 },
      { id: "a18", word: "humilde", synonym: "modesto", category: "Adjetivo", hint: "Que no presume", difficulty: 1 },
      { id: "a19", word: "soberbio", synonym: "arrogante", category: "Adjetivo", hint: "Que se cree superior", difficulty: 1 },
      { id: "a20", word: "joven", synonym: "mozo", category: "Adjetivo", hint: "De poca edad", difficulty: 1 },
      { id: "a21", word: "viejo", synonym: "anciano", category: "Adjetivo", hint: "De mucha edad", difficulty: 1 },
      { id: "a22", word: "nuevo", synonym: "flamante", category: "Adjetivo", hint: "Recién hecho o estrenado", difficulty: 2 },
      { id: "a23", word: "antiguo", synonym: "vetusto", category: "Adjetivo", hint: "Muy viejo o del pasado", difficulty: 2 },
      { id: "a24", word: "limpio", synonym: "pulcro", category: "Adjetivo", hint: "Sin suciedad", difficulty: 2 },
      { id: "a25", word: "sucio", synonym: "mugriento", category: "Adjetivo", hint: "Que tiene suciedad", difficulty: 1 },
      { id: "a26", word: "oscuro", synonym: "tenebroso", category: "Adjetivo", hint: "Falto de luz", difficulty: 2 },
      { id: "a27", word: "claro", synonym: "diáfano", category: "Adjetivo", hint: "Que deja pasar la luz", difficulty: 2 },
      { id: "a28", word: "profundo", synonym: "hondo", category: "Adjetivo", hint: "De mucha profundidad", difficulty: 1 },
      { id: "a29", word: "efímero", synonym: "fugaz", category: "Adjetivo", hint: "Que dura muy poco", difficulty: 2 },
      { id: "a30", word: "perenne", synonym: "perpetuo", category: "Adjetivo", hint: "Que dura siempre", difficulty: 2 },
      { id: "a31", word: "magnífico", synonym: "espléndido", category: "Adjetivo", hint: "Extraordinariamente bueno", difficulty: 1 },
      { id: "a32", word: "exiguo", synonym: "escaso", category: "Adjetivo", hint: "Muy reducido, insuficiente", difficulty: 2 },
      { id: "a33", word: "fecundo", synonym: "fértil", category: "Adjetivo", hint: "Que produce abundantemente", difficulty: 2 },
      { id: "a34", word: "parco", synonym: "sobrio", category: "Adjetivo", hint: "Moderado, contenido", difficulty: 2 },
      { id: "a35", word: "prolijo", synonym: "extenso", category: "Adjetivo", hint: "Largo, muy detallado", difficulty: 2 },
      { id: "a36", word: "somero", synonym: "superficial", category: "Adjetivo", hint: "Poco profundo, ligero", difficulty: 2 },
      { id: "a37", word: "prístino", synonym: "inmaculado", category: "Adjetivo", hint: "Original, puro", difficulty: 3 },
      { id: "a38", word: "ecuánime", synonym: "imparcial", category: "Adjetivo", hint: "Justo, sereno", difficulty: 2 },
      { id: "a39", word: "lóbrego", synonym: "sombrío", category: "Adjetivo", hint: "Oscuro, tétrico", difficulty: 3 },
      { id: "a40", word: "recio", synonym: "fuerte", category: "Adjetivo", hint: "Grueso, resistente", difficulty: 2 },
      { id: "a41", word: "absurdo", synonym: "disparatado", category: "Adjetivo", hint: "Contrario a la razón", difficulty: 1 },
      { id: "a42", word: "aciago", synonym: "funesto", category: "Adjetivo", hint: "De mala suerte, desafortunado", difficulty: 3 },
      { id: "a43", word: "áspero", synonym: "rugoso", category: "Adjetivo", hint: "De superficie irregular al tacto", difficulty: 1 },
      { id: "a44", word: "benigno", synonym: "bondadoso", category: "Adjetivo", hint: "De buen carácter, no dañino", difficulty: 2 },
      { id: "a45", word: "breve", synonym: "conciso", category: "Adjetivo", hint: "De poca duración o extensión", difficulty: 1 },
      { id: "a46", word: "cándido", synonym: "ingenuo", category: "Adjetivo", hint: "Sin malicia ni doblez", difficulty: 2 },
      { id: "a47", word: "célebre", synonym: "renombrado", category: "Adjetivo", hint: "Conocido por muchos", difficulty: 2 },
      { id: "a48", word: "copioso", synonym: "abundante", category: "Adjetivo", hint: "En gran cantidad", difficulty: 2 },
      { id: "a49", word: "cruel", synonym: "despiadado", category: "Adjetivo", hint: "Sin compasión", difficulty: 1 },
      { id: "a50", word: "delgado", synonym: "esbelto", category: "Adjetivo", hint: "De poco grosor", difficulty: 1 },
      { id: "a51", word: "denso", synonym: "espeso", category: "Adjetivo", hint: "Muy compacto, apretado", difficulty: 1 },
      { id: "a52", word: "diestro", synonym: "hábil", category: "Adjetivo", hint: "Que tiene destreza", difficulty: 2 },
      { id: "a53", word: "dócil", synonym: "sumiso", category: "Adjetivo", hint: "Fácil de manejar o enseñar", difficulty: 2 },
      { id: "a54", word: "duro", synonym: "rígido", category: "Adjetivo", hint: "Que resiste la deformación", difficulty: 1 },
      { id: "a55", word: "elocuente", synonym: "persuasivo", category: "Adjetivo", hint: "Que habla con eficacia", difficulty: 2 },
      { id: "a56", word: "endeble", synonym: "enclenque", category: "Adjetivo", hint: "Muy débil, sin consistencia", difficulty: 2 },
      { id: "a57", word: "escueto", synonym: "lacónico", category: "Adjetivo", hint: "Muy breve, sin adornos", difficulty: 2 },
      { id: "a58", word: "espurio", synonym: "falso", category: "Adjetivo", hint: "Que no es auténtico", difficulty: 3 },
      { id: "a59", word: "ferviente", synonym: "apasionado", category: "Adjetivo", hint: "Con mucho fervor e intensidad", difficulty: 2 },
      { id: "a60", word: "frugal", synonym: "austero", category: "Adjetivo", hint: "Moderado en el comer y gastar", difficulty: 2 },
      { id: "a61", word: "galante", synonym: "caballeroso", category: "Adjetivo", hint: "Atento y cortés con las damas", difficulty: 2 },
      { id: "a62", word: "grácil", synonym: "delicado", category: "Adjetivo", hint: "Fino, sutil y agradable", difficulty: 2 },
      { id: "a63", word: "huraño", synonym: "arisco", category: "Adjetivo", hint: "Que rehúye el trato social", difficulty: 2 },
      { id: "a64", word: "impetuoso", synonym: "vehemente", category: "Adjetivo", hint: "Que actúa con fuerza e impulso", difficulty: 2 },
      { id: "a65", word: "incauto", synonym: "imprudente", category: "Adjetivo", hint: "Que no prevé el peligro", difficulty: 2 },
      { id: "a66", word: "inédito", synonym: "novedoso", category: "Adjetivo", hint: "Nunca visto o publicado", difficulty: 2 },
      { id: "a67", word: "insólito", synonym: "inusual", category: "Adjetivo", hint: "Raro, poco frecuente", difficulty: 2 },
      { id: "a68", word: "intrépido", synonym: "temerario", category: "Adjetivo", hint: "Que no siente miedo ante el peligro", difficulty: 2 },
      { id: "a69", word: "irascible", synonym: "colérico", category: "Adjetivo", hint: "Que se enfada con facilidad", difficulty: 2 },
      { id: "a70", word: "lánguido", synonym: "decaído", category: "Adjetivo", hint: "Falto de energía y ánimo", difficulty: 2 },
      { id: "a71", word: "letal", synonym: "mortífero", category: "Adjetivo", hint: "Que puede causar la muerte", difficulty: 2 },
      { id: "a72", word: "liviano", synonym: "ligero", category: "Adjetivo", hint: "De poco peso", difficulty: 1 },
      { id: "a73", word: "locuaz", synonym: "parlanchín", category: "Adjetivo", hint: "Que habla mucho", difficulty: 2 },
      { id: "a74", word: "lúgubre", synonym: "fúnebre", category: "Adjetivo", hint: "Que inspira tristeza profunda", difficulty: 2 },
      { id: "a75", word: "macilento", synonym: "demacrado", category: "Adjetivo", hint: "Flaco, de aspecto enfermizo", difficulty: 3 },
      { id: "a76", word: "mesurado", synonym: "comedido", category: "Adjetivo", hint: "Moderado, que se contiene", difficulty: 2 },
      { id: "a77", word: "nítido", synonym: "claro", category: "Adjetivo", hint: "Limpio, bien definido", difficulty: 1 },
      { id: "a78", word: "opaco", synonym: "turbio", category: "Adjetivo", hint: "Que no deja pasar la luz", difficulty: 1 },
      { id: "a79", word: "pérfido", synonym: "traicionero", category: "Adjetivo", hint: "Desleal, que traiciona la confianza", difficulty: 3 },
      { id: "a80", word: "plácido", synonym: "apacible", category: "Adjetivo", hint: "Tranquilo, sosegado", difficulty: 2 },
      { id: "a81", word: "raudo", synonym: "veloz", category: "Adjetivo", hint: "Muy rápido", difficulty: 2 },
      { id: "a82", word: "sutil", synonym: "tenue", category: "Adjetivo", hint: "Fino, delicado, apenas perceptible", difficulty: 2 },
      { id: "a83", word: "tenaz", synonym: "persistente", category: "Adjetivo", hint: "Que no se rinde fácilmente", difficulty: 1 },
      { id: "a84", word: "vasto", synonym: "extenso", category: "Adjetivo", hint: "Muy grande en extensión", difficulty: 2 },
      { id: "a85", word: "zalamero", synonym: "adulador", category: "Adjetivo", hint: "Que halaga para conseguir algo", difficulty: 2 },

      // ==================== SUSTANTIVOS (~35) ====================
      { id: "s01", word: "acervo", synonym: "patrimonio", category: "Sustantivo", hint: "Conjunto de bienes culturales", difficulty: 2 },
      { id: "s02", word: "alianza", synonym: "pacto", category: "Sustantivo", hint: "Acuerdo entre partes", difficulty: 1 },
      { id: "s03", word: "astucia", synonym: "sagacidad", category: "Sustantivo", hint: "Habilidad para engañar o evitar engaños", difficulty: 2 },
      { id: "s04", word: "batalla", synonym: "combate", category: "Sustantivo", hint: "Lucha entre fuerzas opuestas", difficulty: 1 },
      { id: "s05", word: "camino", synonym: "sendero", category: "Sustantivo", hint: "Vía para transitar", difficulty: 1 },
      { id: "s06", word: "causa", synonym: "motivo", category: "Sustantivo", hint: "Razón de algo", difficulty: 1 },
      { id: "s07", word: "cima", synonym: "cumbre", category: "Sustantivo", hint: "Parte más alta", difficulty: 1 },
      { id: "s08", word: "codicia", synonym: "avaricia", category: "Sustantivo", hint: "Deseo desmedido de riquezas", difficulty: 2 },
      { id: "s09", word: "contienda", synonym: "disputa", category: "Sustantivo", hint: "Enfrentamiento, pelea", difficulty: 2 },
      { id: "s10", word: "coraje", synonym: "valor", category: "Sustantivo", hint: "Ánimo para enfrentar peligros", difficulty: 1 },
      { id: "s11", word: "destino", synonym: "sino", category: "Sustantivo", hint: "Fuerza que determina el futuro", difficulty: 2 },
      { id: "s12", word: "dicha", synonym: "felicidad", category: "Sustantivo", hint: "Estado de gran alegría", difficulty: 1 },
      { id: "s13", word: "dolor", synonym: "sufrimiento", category: "Sustantivo", hint: "Sensación penosa", difficulty: 1 },
      { id: "s14", word: "enemigo", synonym: "adversario", category: "Sustantivo", hint: "El que se opone a otro", difficulty: 1 },
      { id: "s15", word: "enigma", synonym: "misterio", category: "Sustantivo", hint: "Algo difícil de comprender", difficulty: 1 },
      { id: "s16", word: "fama", synonym: "renombre", category: "Sustantivo", hint: "Reputación amplia", difficulty: 2 },
      { id: "s17", word: "fuerza", synonym: "vigor", category: "Sustantivo", hint: "Capacidad para mover algo", difficulty: 1 },
      { id: "s18", word: "gloria", synonym: "honor", category: "Sustantivo", hint: "Reconocimiento y prestigio", difficulty: 1 },
      { id: "s19", word: "hogar", synonym: "morada", category: "Sustantivo", hint: "Lugar donde se vive", difficulty: 1 },
      { id: "s20", word: "ira", synonym: "cólera", category: "Sustantivo", hint: "Enfado intenso", difficulty: 1 },
      { id: "s21", word: "jefe", synonym: "líder", category: "Sustantivo", hint: "El que dirige", difficulty: 1 },
      { id: "s22", word: "ley", synonym: "norma", category: "Sustantivo", hint: "Regla establecida", difficulty: 1 },
      { id: "s23", word: "logro", synonym: "hazaña", category: "Sustantivo", hint: "Algo conseguido con mérito", difficulty: 1 },
      { id: "s24", word: "miedo", synonym: "temor", category: "Sustantivo", hint: "Sensación ante un peligro", difficulty: 1 },
      { id: "s25", word: "pena", synonym: "aflicción", category: "Sustantivo", hint: "Tristeza profunda", difficulty: 1 },
      { id: "s26", word: "pueblo", synonym: "aldea", category: "Sustantivo", hint: "Población pequeña", difficulty: 1 },
      { id: "s27", word: "riqueza", synonym: "opulencia", category: "Sustantivo", hint: "Abundancia de bienes", difficulty: 2 },
      { id: "s28", word: "ruido", synonym: "estruendo", category: "Sustantivo", hint: "Sonido fuerte y confuso", difficulty: 1 },
      { id: "s29", word: "tesoro", synonym: "fortuna", category: "Sustantivo", hint: "Conjunto de cosas valiosas", difficulty: 1 },
      { id: "s30", word: "virtud", synonym: "bondad", category: "Sustantivo", hint: "Cualidad moral positiva", difficulty: 1 },
      { id: "s31", word: "ardid", synonym: "estratagema", category: "Sustantivo", hint: "Truco o maniobra hábil", difficulty: 2 },
      { id: "s32", word: "dádiva", synonym: "regalo", category: "Sustantivo", hint: "Cosa que se da voluntariamente", difficulty: 2 },
      { id: "s33", word: "estrago", synonym: "devastación", category: "Sustantivo", hint: "Daño grande", difficulty: 2 },
      { id: "s34", word: "holganza", synonym: "ociosidad", category: "Sustantivo", hint: "Descanso, falta de actividad", difficulty: 2 },
      { id: "s35", word: "índole", synonym: "naturaleza", category: "Sustantivo", hint: "Condición o carácter propio", difficulty: 2 },
      { id: "s36", word: "adversidad", synonym: "infortunio", category: "Sustantivo", hint: "Situación desfavorable", difficulty: 1 },
      { id: "s37", word: "afán", synonym: "empeño", category: "Sustantivo", hint: "Esfuerzo intenso por conseguir algo", difficulty: 1 },
      { id: "s38", word: "agravio", synonym: "ofensa", category: "Sustantivo", hint: "Daño al honor de alguien", difficulty: 2 },
      { id: "s39", word: "alborozo", synonym: "júbilo", category: "Sustantivo", hint: "Alegría extraordinaria", difficulty: 2 },
      { id: "s40", word: "alcurnia", synonym: "linaje", category: "Sustantivo", hint: "Ascendencia noble", difficulty: 3 },
      { id: "s41", word: "apogeo", synonym: "auge", category: "Sustantivo", hint: "Punto más alto de algo", difficulty: 2 },
      { id: "s42", word: "arrojo", synonym: "osadía", category: "Sustantivo", hint: "Valentía impetuosa", difficulty: 2 },
      { id: "s43", word: "audacia", synonym: "atrevimiento", category: "Sustantivo", hint: "Valor para hacer algo arriesgado", difficulty: 1 },
      { id: "s44", word: "baluarte", synonym: "bastión", category: "Sustantivo", hint: "Defensa o protección fuerte", difficulty: 2 },
      { id: "s45", word: "bonanza", synonym: "prosperidad", category: "Sustantivo", hint: "Tiempo de calma y buena suerte", difficulty: 2 },
      { id: "s46", word: "calamidad", synonym: "desgracia", category: "Sustantivo", hint: "Desastre que afecta a muchos", difficulty: 1 },
      { id: "s47", word: "carestía", synonym: "escasez", category: "Sustantivo", hint: "Falta de lo necesario, precios altos", difficulty: 2 },
      { id: "s48", word: "cautela", synonym: "precaución", category: "Sustantivo", hint: "Cuidado para evitar peligros", difficulty: 1 },
      { id: "s49", word: "clemencia", synonym: "piedad", category: "Sustantivo", hint: "Compasión al castigar", difficulty: 2 },
      { id: "s50", word: "concordia", synonym: "armonía", category: "Sustantivo", hint: "Acuerdo entre personas", difficulty: 2 },
      { id: "s51", word: "congoja", synonym: "angustia", category: "Sustantivo", hint: "Pena que oprime el ánimo", difficulty: 2 },
      { id: "s52", word: "crepúsculo", synonym: "ocaso", category: "Sustantivo", hint: "Luz entre el día y la noche", difficulty: 2 },
      { id: "s53", word: "denuedo", synonym: "brío", category: "Sustantivo", hint: "Esfuerzo y valor decidido", difficulty: 3 },
      { id: "s54", word: "derroche", synonym: "despilfarro", category: "Sustantivo", hint: "Gasto excesivo e innecesario", difficulty: 1 },
      { id: "s55", word: "desasosiego", synonym: "inquietud", category: "Sustantivo", hint: "Falta de tranquilidad", difficulty: 2 },
      { id: "s56", word: "diatriba", synonym: "invectiva", category: "Sustantivo", hint: "Discurso violento contra alguien", difficulty: 3 },
      { id: "s57", word: "discrepancia", synonym: "desacuerdo", category: "Sustantivo", hint: "Diferencia de opiniones", difficulty: 1 },
      { id: "s58", word: "emboscada", synonym: "celada", category: "Sustantivo", hint: "Ataque oculto por sorpresa", difficulty: 2 },
      { id: "s59", word: "enjundia", synonym: "sustancia", category: "Sustantivo", hint: "Lo más importante de algo", difficulty: 3 },
      { id: "s60", word: "escarnio", synonym: "burla", category: "Sustantivo", hint: "Mofa cruel e hiriente", difficulty: 2 },
      { id: "s61", word: "estirpe", synonym: "linaje", category: "Sustantivo", hint: "Raíz y tronco de una familia", difficulty: 2 },
      { id: "s62", word: "euforia", synonym: "entusiasmo", category: "Sustantivo", hint: "Sensación intensa de bienestar", difficulty: 1 },
      { id: "s63", word: "fastidio", synonym: "hastío", category: "Sustantivo", hint: "Disgusto, aburrimiento", difficulty: 1 },
      { id: "s64", word: "galardón", synonym: "premio", category: "Sustantivo", hint: "Recompensa por un mérito", difficulty: 2 },
      { id: "s65", word: "gentío", synonym: "muchedumbre", category: "Sustantivo", hint: "Gran cantidad de gente reunida", difficulty: 1 },
      { id: "s66", word: "holgura", synonym: "amplitud", category: "Sustantivo", hint: "Espacio o desahogo suficiente", difficulty: 2 },
      { id: "s67", word: "incertidumbre", synonym: "duda", category: "Sustantivo", hint: "Falta de certeza sobre algo", difficulty: 1 },
      { id: "s68", word: "indulgencia", synonym: "tolerancia", category: "Sustantivo", hint: "Facilidad para perdonar", difficulty: 2 },
      { id: "s69", word: "letargo", synonym: "sopor", category: "Sustantivo", hint: "Estado de somnolencia profunda", difficulty: 2 },
      { id: "s70", word: "mengua", synonym: "disminución", category: "Sustantivo", hint: "Reducción o falta de algo", difficulty: 2 },
      { id: "s71", word: "parsimonia", synonym: "calma", category: "Sustantivo", hint: "Lentitud tranquila al actuar", difficulty: 2 },
      { id: "s72", word: "peripecia", synonym: "aventura", category: "Sustantivo", hint: "Suceso imprevisto en una historia", difficulty: 2 },
      { id: "s73", word: "premura", synonym: "urgencia", category: "Sustantivo", hint: "Prisa, necesidad apremiante", difficulty: 2 },
      { id: "s74", word: "querella", synonym: "demanda", category: "Sustantivo", hint: "Queja ante un juez", difficulty: 2 },
      { id: "s75", word: "recelo", synonym: "desconfianza", category: "Sustantivo", hint: "Temor de que algo malo pase", difficulty: 2 },
      { id: "s76", word: "sabiduría", synonym: "erudición", category: "Sustantivo", hint: "Conocimiento profundo", difficulty: 1 },
      { id: "s77", word: "tregua", synonym: "descanso", category: "Sustantivo", hint: "Pausa en un conflicto", difficulty: 1 },
      { id: "s78", word: "vehemencia", synonym: "ímpetu", category: "Sustantivo", hint: "Fuerza e intensidad al actuar", difficulty: 2 },
      { id: "s79", word: "zozobra", synonym: "ansiedad", category: "Sustantivo", hint: "Inquietud por un peligro", difficulty: 2 },
      { id: "s80", word: "vestigio", synonym: "rastro", category: "Sustantivo", hint: "Huella o señal de algo pasado", difficulty: 2 },

      // ==================== ARCAÍSMOS (~40) ====================
      { id: "ar01", word: "agora", synonym: "ahora", category: "Arcaísmo", hint: "Forma antigua de 'ahora'. Muy frecuente en El Quijote", difficulty: 2 },
      { id: "ar02", word: "ansí", synonym: "así", category: "Arcaísmo", hint: "Forma antigua de 'así'", difficulty: 2 },
      { id: "ar03", word: "aqueste", synonym: "este", category: "Arcaísmo", hint: "Demostrativo arcaico", difficulty: 2 },
      { id: "ar04", word: "acaecer", synonym: "suceder", category: "Arcaísmo", hint: "Que algo ocurra o pase", difficulty: 2 },
      { id: "ar05", word: "asaz", synonym: "bastante", category: "Arcaísmo", hint: "Indica cantidad suficiente", difficulty: 3 },
      { id: "ar06", word: "ca", synonym: "porque", category: "Arcaísmo", hint: "Conjunción causal medieval", difficulty: 3 },
      { id: "ar07", word: "cuita", synonym: "pena", category: "Arcaísmo", hint: "Aflicción, sufrimiento del alma", difficulty: 3 },
      { id: "ar08", word: "desfacer", synonym: "deshacer", category: "Arcaísmo", hint: "Forma antigua. 'Desfacer entuertos' = corregir injusticias", difficulty: 2 },
      { id: "ar09", word: "do", synonym: "donde", category: "Arcaísmo", hint: "Adverbio de lugar medieval", difficulty: 3 },
      { id: "ar10", word: "empero", synonym: "sin embargo", category: "Arcaísmo", hint: "Conjunción adversativa", difficulty: 3 },
      { id: "ar11", word: "fablar", synonym: "hablar", category: "Arcaísmo", hint: "La f inicial se transformó en h en castellano moderno", difficulty: 2 },
      { id: "ar12", word: "fermoso", synonym: "hermoso", category: "Arcaísmo", hint: "Del latín formosus. La f pasó a h", difficulty: 2 },
      { id: "ar13", word: "fijo", synonym: "hijo", category: "Arcaísmo", hint: "Forma antigua de 'hijo' (f→h)", difficulty: 2 },
      { id: "ar14", word: "guisa", synonym: "manera", category: "Arcaísmo", hint: "'De tal guisa' = de tal manera", difficulty: 3 },
      { id: "ar15", word: "luengo", synonym: "largo", category: "Arcaísmo", hint: "Del latín longus", difficulty: 3 },
      { id: "ar16", word: "maguer", synonym: "aunque", category: "Arcaísmo", hint: "Conjunción concesiva medieval", difficulty: 3 },
      { id: "ar17", word: "malandanza", synonym: "desventura", category: "Arcaísmo", hint: "Mala suerte, infortunio", difficulty: 3 },
      { id: "ar18", word: "menester", synonym: "necesidad", category: "Arcaísmo", hint: "'Es menester' = es necesario", difficulty: 2 },
      { id: "ar19", word: "merced", synonym: "gracia", category: "Arcaísmo", hint: "'Vuestra merced' → usted", difficulty: 2 },
      { id: "ar20", word: "non", synonym: "no", category: "Arcaísmo", hint: "Negación en castellano medieval", difficulty: 2 },
      { id: "ar21", word: "ogaño", synonym: "este año", category: "Arcaísmo", hint: "Contracción de 'hoc anno' (latín)", difficulty: 3 },
      { id: "ar22", word: "plugo", synonym: "agradó", category: "Arcaísmo", hint: "Pretérito de 'placer'. 'Plugo a Dios'", difficulty: 3 },
      { id: "ar23", word: "priesa", synonym: "prisa", category: "Arcaísmo", hint: "Forma antigua de 'prisa'", difficulty: 2 },
      { id: "ar24", word: "pro", synonym: "provecho", category: "Arcaísmo", hint: "Beneficio, utilidad", difficulty: 2 },
      { id: "ar25", word: "yantar", synonym: "comer", category: "Arcaísmo", hint: "Del latín iantare. Comida principal del mediodía", difficulty: 2 },
      { id: "ar26", word: "zampoña", synonym: "flauta pastoril", category: "Arcaísmo", hint: "Instrumento musical de viento hecho de cañas", difficulty: 2 },
      { id: "ar27", word: "talante", synonym: "voluntad", category: "Arcaísmo", hint: "Disposición de ánimo, humor", difficulty: 2 },
      { id: "ar28", word: "vegada", synonym: "vez", category: "Arcaísmo", hint: "'Muchas vegadas' = muchas veces", difficulty: 3 },
      { id: "ar29", word: "vos", synonym: "usted", category: "Arcaísmo", hint: "Tratamiento de respeto medieval", difficulty: 2 },
      { id: "ar30", word: "albricia", synonym: "buena noticia", category: "Arcaísmo", hint: "Regalo por una buena nueva", difficulty: 3 },
      { id: "ar31", word: "algarabía", synonym: "griterío", category: "Arcaísmo", hint: "Ruido confuso de voces. Del árabe", difficulty: 2 },
      { id: "ar32", word: "corcel", synonym: "caballo", category: "Arcaísmo", hint: "Caballo ligero, de batalla", difficulty: 2 },
      { id: "ar33", word: "doncel", synonym: "joven noble", category: "Arcaísmo", hint: "Muchacho que servía a un caballero", difficulty: 2 },
      { id: "ar34", word: "escudero", synonym: "sirviente", category: "Arcaísmo", hint: "Criado que acompaña a un caballero. Sancho Panza era escudero", difficulty: 2 },
      { id: "ar35", word: "hidalgo", synonym: "noble", category: "Arcaísmo", hint: "'Hijo de algo'. Nobleza menor castellana", difficulty: 2 },
      { id: "ar36", word: "menguado", synonym: "cobarde", category: "Arcaísmo", hint: "También: necio, falto de juicio", difficulty: 3 },
      { id: "ar37", word: "adobar", synonym: "preparar", category: "Arcaísmo", hint: "Arreglar, componer. Don Quijote 'adobó' su armadura", difficulty: 3 },
      { id: "ar38", word: "follón", synonym: "cobarde", category: "Arcaísmo", hint: "Ruin, vil. Insulto caballeresco", difficulty: 3 },
      { id: "ar39", word: "sandio", synonym: "necio", category: "Arcaísmo", hint: "Persona simple o tonta", difficulty: 3 },
      { id: "ar40", word: "fermosura", synonym: "hermosura", category: "Arcaísmo", hint: "Belleza. Dulcinea era de gran fermosura", difficulty: 2 },
      { id: "ar41", word: "aina", synonym: "pronto", category: "Arcaísmo", hint: "Rápidamente, enseguida", difficulty: 3 },
      { id: "ar42", word: "albéitar", synonym: "veterinario", category: "Arcaísmo", hint: "El que cura animales. Del árabe", difficulty: 3 },
      { id: "ar43", word: "alcázar", synonym: "palacio", category: "Arcaísmo", hint: "Fortaleza, recinto fortificado. Del árabe", difficulty: 2 },
      { id: "ar44", word: "alfanje", synonym: "espada curva", category: "Arcaísmo", hint: "Arma blanca de hoja ancha y curva", difficulty: 3 },
      { id: "ar45", word: "aljaba", synonym: "carcaj", category: "Arcaísmo", hint: "Funda para llevar flechas", difficulty: 3 },
      { id: "ar46", word: "alquería", synonym: "granja", category: "Arcaísmo", hint: "Casa de campo para labranza", difficulty: 3 },
      { id: "ar47", word: "atambor", synonym: "tambor", category: "Arcaísmo", hint: "Instrumento de percusión", difficulty: 2 },
      { id: "ar48", word: "bacía", synonym: "palangana", category: "Arcaísmo", hint: "Vasija de barbero. Don Quijote la confundió con yelmo", difficulty: 3 },
      { id: "ar49", word: "baldón", synonym: "insulto", category: "Arcaísmo", hint: "Ofensa, deshonra pública", difficulty: 3 },
      { id: "ar50", word: "celada", synonym: "casco", category: "Arcaísmo", hint: "Parte de la armadura que protege la cabeza", difficulty: 2 },
      { id: "ar51", word: "cendal", synonym: "tela fina", category: "Arcaísmo", hint: "Tejido ligero y transparente", difficulty: 3 },
      { id: "ar52", word: "conhortar", synonym: "consolar", category: "Arcaísmo", hint: "Dar ánimo al que sufre", difficulty: 3 },
      { id: "ar53", word: "desaguisado", synonym: "agravio", category: "Arcaísmo", hint: "Hecho contra razón y justicia", difficulty: 3 },
      { id: "ar54", word: "entuerto", synonym: "injusticia", category: "Arcaísmo", hint: "Ofensa. 'Desfacer entuertos'", difficulty: 2 },
      { id: "ar55", word: "fazaña", synonym: "hazaña", category: "Arcaísmo", hint: "Hecho heroico memorable", difficulty: 2 },
      { id: "ar56", word: "fuste", synonym: "importancia", category: "Arcaísmo", hint: "Sustancia, valor. 'De poco fuste'", difficulty: 3 },
      { id: "ar57", word: "ganapán", synonym: "mozo de carga", category: "Arcaísmo", hint: "Hombre que se gana la vida con trabajos duros", difficulty: 3 },
      { id: "ar58", word: "henchir", synonym: "llenar", category: "Arcaísmo", hint: "Rellenar un recipiente por completo", difficulty: 2 },
      { id: "ar59", word: "hueste", synonym: "ejército", category: "Arcaísmo", hint: "Conjunto de tropas en campaña", difficulty: 2 },
      { id: "ar60", word: "jaez", synonym: "adorno", category: "Arcaísmo", hint: "Arreos decorativos de un caballo", difficulty: 3 },
      { id: "ar61", word: "lacayo", synonym: "criado", category: "Arcaísmo", hint: "Sirviente que acompañaba a pie", difficulty: 2 },
      { id: "ar62", word: "lueñe", synonym: "lejos", category: "Arcaísmo", hint: "A gran distancia", difficulty: 3 },
      { id: "ar63", word: "maese", synonym: "maestro", category: "Arcaísmo", hint: "Título de respeto. Maese Pedro", difficulty: 2 },
      { id: "ar64", word: "mancebo", synonym: "joven", category: "Arcaísmo", hint: "Muchacho en edad de casarse", difficulty: 2 },
      { id: "ar65", word: "maravedí", synonym: "moneda", category: "Arcaísmo", hint: "Moneda castellana medieval de poco valor", difficulty: 2 },
      { id: "ar66", word: "mesón", synonym: "posada", category: "Arcaísmo", hint: "Establecimiento donde se da alojamiento", difficulty: 2 },
      { id: "ar67", word: "pechero", synonym: "plebeyo", category: "Arcaísmo", hint: "Que paga tributos. No noble", difficulty: 3 },
      { id: "ar68", word: "pendón", synonym: "bandera", category: "Arcaísmo", hint: "Estandarte largo y estrecho", difficulty: 2 },
      { id: "ar69", word: "prez", synonym: "honor", category: "Arcaísmo", hint: "Gloria, fama por hechos ilustres", difficulty: 3 },
      { id: "ar70", word: "sayón", synonym: "verdugo", category: "Arcaísmo", hint: "El que ejecutaba las penas", difficulty: 3 },
      { id: "ar71", word: "solaz", synonym: "recreo", category: "Arcaísmo", hint: "Placer, esparcimiento", difficulty: 2 },
      { id: "ar72", word: "tañer", synonym: "tocar", category: "Arcaísmo", hint: "Hacer sonar un instrumento", difficulty: 2 },
      { id: "ar73", word: "villano", synonym: "aldeano", category: "Arcaísmo", hint: "Habitante de una villa, no noble", difficulty: 2 },
      { id: "ar74", word: "adarve", synonym: "muralla", category: "Arcaísmo", hint: "Camino en lo alto de una fortificación", difficulty: 3 },
      { id: "ar75", word: "almena", synonym: "remate de torre", category: "Arcaísmo", hint: "Cada prisma que corona una muralla", difficulty: 2 },
      { id: "ar76", word: "yelmo", synonym: "casco", category: "Arcaísmo", hint: "Pieza de armadura para la cabeza. Yelmo de Mambrino", difficulty: 2 },
      { id: "ar77", word: "adarga", synonym: "escudo", category: "Arcaísmo", hint: "Escudo de cuero ovalado", difficulty: 3 },
      { id: "ar78", word: "arnés", synonym: "armadura", category: "Arcaísmo", hint: "Conjunto de armas defensivas", difficulty: 2 },
      { id: "ar79", word: "rocín", synonym: "caballo malo", category: "Arcaísmo", hint: "Caballo flaco y de poca alzada. Rocinante", difficulty: 2 },
      { id: "ar80", word: "venta", synonym: "posada", category: "Arcaísmo", hint: "Casa en el camino para viajeros. Don Quijote las confundía con castillos", difficulty: 2 },
      { id: "ar81", word: "doncella", synonym: "mujer joven", category: "Arcaísmo", hint: "Mujer que no ha conocido varón", difficulty: 2 },
      { id: "ar82", word: "afrenta", synonym: "vergüenza", category: "Arcaísmo", hint: "Deshonor por ofensa pública", difficulty: 2 },
      { id: "ar83", word: "malferido", synonym: "muy herido", category: "Arcaísmo", hint: "Gravemente herido en batalla", difficulty: 2 },
      { id: "ar84", word: "fazedor", synonym: "hacedor", category: "Arcaísmo", hint: "El que hace o crea (f→h)", difficulty: 2 },
      { id: "ar85", word: "fecho", synonym: "hecho", category: "Arcaísmo", hint: "Participio antiguo de 'hacer'", difficulty: 2 },
      { id: "ar86", word: "facienda", synonym: "asunto", category: "Arcaísmo", hint: "Negocio, quehacer. Actual 'hacienda'", difficulty: 3 },
      { id: "ar87", word: "fermosa", synonym: "hermosa", category: "Arcaísmo", hint: "Forma femenina antigua de hermoso", difficulty: 2 },
      { id: "ar88", word: "faltriquera", synonym: "bolsillo", category: "Arcaísmo", hint: "Bolsa que se llevaba atada a la cintura", difficulty: 3 },
      { id: "ar89", word: "hato", synonym: "ropa", category: "Arcaísmo", hint: "Conjunto de prendas y enseres personales", difficulty: 3 },
      { id: "ar90", word: "yantar", synonym: "comida", category: "Arcaísmo", hint: "También sustantivo: la comida del mediodía", difficulty: 2 },

      // ==================== CULTISMOS (~25) ====================
      { id: "c01", word: "magnánimo", synonym: "generoso", category: "Cultismo", hint: "De gran ánimo, que perdona ofensas", difficulty: 2 },
      { id: "c02", word: "verosímil", synonym: "creíble", category: "Cultismo", hint: "Que parece verdadero", difficulty: 2 },
      { id: "c03", word: "conspicuo", synonym: "ilustre", category: "Cultismo", hint: "Sobresaliente, visible", difficulty: 3 },
      { id: "c04", word: "eximio", synonym: "excelente", category: "Cultismo", hint: "Muy distinguido en su género", difficulty: 3 },
      { id: "c05", word: "excelso", synonym: "sublime", category: "Cultismo", hint: "De máxima elevación", difficulty: 2 },
      { id: "c06", word: "ínclito", synonym: "famoso", category: "Cultismo", hint: "Ilustre, célebre por sus méritos", difficulty: 3 },
      { id: "c07", word: "nefando", synonym: "abominable", category: "Cultismo", hint: "Tan malo que no puede nombrarse", difficulty: 3 },
      { id: "c08", word: "preclaro", synonym: "esclarecido", category: "Cultismo", hint: "Muy ilustre, insigne", difficulty: 3 },
      { id: "c09", word: "recóndito", synonym: "oculto", category: "Cultismo", hint: "Muy escondido, reservado", difficulty: 2 },
      { id: "c10", word: "ubérrimo", synonym: "abundantísimo", category: "Cultismo", hint: "Superlativo culto de 'fértil'", difficulty: 3 },
      { id: "c11", word: "sempiterno", synonym: "eterno", category: "Cultismo", hint: "Que dura por siempre", difficulty: 2 },
      { id: "c12", word: "ignoto", synonym: "desconocido", category: "Cultismo", hint: "No descubierto ni conocido", difficulty: 2 },
      { id: "c13", word: "probo", synonym: "íntegro", category: "Cultismo", hint: "De gran honradez", difficulty: 3 },
      { id: "c14", word: "feraz", synonym: "fértil", category: "Cultismo", hint: "Tierra que produce mucho", difficulty: 3 },
      { id: "c15", word: "ubicuo", synonym: "omnipresente", category: "Cultismo", hint: "Que está en todas partes", difficulty: 2 },
      { id: "c16", word: "inefable", synonym: "indescriptible", category: "Cultismo", hint: "Que no puede expresarse con palabras", difficulty: 2 },
      { id: "c17", word: "pertinaz", synonym: "tenaz", category: "Cultismo", hint: "Obstinado, que persiste", difficulty: 2 },
      { id: "c18", word: "oprobio", synonym: "deshonra", category: "Cultismo", hint: "Vergüenza pública", difficulty: 3 },
      { id: "c19", word: "abyecto", synonym: "despreciable", category: "Cultismo", hint: "Vil, de bajeza extrema", difficulty: 3 },
      { id: "c20", word: "acérrimo", synonym: "fervoroso", category: "Cultismo", hint: "Superlativo culto: muy fuerte, decidido", difficulty: 2 },
      { id: "c21", word: "longevo", synonym: "anciano", category: "Cultismo", hint: "De larga vida", difficulty: 2 },
      { id: "c22", word: "incólume", synonym: "ileso", category: "Cultismo", hint: "Sin daño, sano y salvo", difficulty: 3 },
      { id: "c23", word: "desidia", synonym: "pereza", category: "Cultismo", hint: "Negligencia, falta de interés", difficulty: 2 },
      { id: "c24", word: "epítome", synonym: "resumen", category: "Cultismo", hint: "Compendio de una obra extensa", difficulty: 3 },
      { id: "c25", word: "dilapidar", synonym: "malgastar", category: "Cultismo", hint: "Gastar sin medida", difficulty: 2 },
      { id: "c26", word: "acendrado", synonym: "puro", category: "Cultismo", hint: "Depurado, sin defecto", difficulty: 3 },
      { id: "c27", word: "apócrifo", synonym: "falso", category: "Cultismo", hint: "Supuesto, no auténtico", difficulty: 2 },
      { id: "c28", word: "áulico", synonym: "cortesano", category: "Cultismo", hint: "Perteneciente a la corte", difficulty: 3 },
      { id: "c29", word: "benévolo", synonym: "bondadoso", category: "Cultismo", hint: "De buena voluntad hacia otros", difficulty: 2 },
      { id: "c30", word: "cáustico", synonym: "mordaz", category: "Cultismo", hint: "Agresivo e hiriente al hablar", difficulty: 3 },
      { id: "c31", word: "coetáneo", synonym: "contemporáneo", category: "Cultismo", hint: "De la misma época", difficulty: 2 },
      { id: "c32", word: "contumaz", synonym: "obstinado", category: "Cultismo", hint: "Rebelde, que persiste en su error", difficulty: 3 },
      { id: "c33", word: "deleznable", synonym: "despreciable", category: "Cultismo", hint: "Que merece rechazo", difficulty: 2 },
      { id: "c34", word: "diligente", synonym: "solícito", category: "Cultismo", hint: "Cuidadoso y pronto en el obrar", difficulty: 2 },
      { id: "c35", word: "displicente", synonym: "desdeñoso", category: "Cultismo", hint: "Que muestra indiferencia despectiva", difficulty: 3 },
      { id: "c36", word: "encomio", synonym: "elogio", category: "Cultismo", hint: "Alabanza expresada con énfasis", difficulty: 3 },
      { id: "c37", word: "erudito", synonym: "sabio", category: "Cultismo", hint: "Persona de gran conocimiento", difficulty: 2 },
      { id: "c38", word: "execrable", synonym: "detestable", category: "Cultismo", hint: "Digno de ser maldecido", difficulty: 3 },
      { id: "c39", word: "facundo", synonym: "elocuente", category: "Cultismo", hint: "Que habla con facilidad y gracia", difficulty: 3 },
      { id: "c40", word: "falaz", synonym: "engañoso", category: "Cultismo", hint: "Que contiene falsedad", difficulty: 2 },
      { id: "c41", word: "idóneo", synonym: "apto", category: "Cultismo", hint: "Adecuado para un fin", difficulty: 2 },
      { id: "c42", word: "impávido", synonym: "sereno", category: "Cultismo", hint: "Sin mostrar miedo ni turbación", difficulty: 2 },
      { id: "c43", word: "ingente", synonym: "enorme", category: "Cultismo", hint: "Muy grande en tamaño o cantidad", difficulty: 2 },
      { id: "c44", word: "mendaz", synonym: "mentiroso", category: "Cultismo", hint: "Que tiene costumbre de mentir", difficulty: 3 },
      { id: "c45", word: "munificente", synonym: "espléndido", category: "Cultismo", hint: "Generoso con magnificencia", difficulty: 3 },
      { id: "c46", word: "nimio", synonym: "insignificante", category: "Cultismo", hint: "Sin importancia, mínimo", difficulty: 2 },
      { id: "c47", word: "oblicuo", synonym: "sesgado", category: "Cultismo", hint: "Inclinado, no recto", difficulty: 2 },
      { id: "c48", word: "pueril", synonym: "infantil", category: "Cultismo", hint: "Propio de niños, inmaduro", difficulty: 2 },
      { id: "c49", word: "recalcitrante", synonym: "terco", category: "Cultismo", hint: "Obstinado en la resistencia", difficulty: 2 },
      { id: "c50", word: "sagaz", synonym: "astuto", category: "Cultismo", hint: "De agudo entendimiento práctico", difficulty: 2 },
      { id: "c51", word: "vesánico", synonym: "demente", category: "Cultismo", hint: "Loco, furioso", difficulty: 3 },
      { id: "c52", word: "anuencia", synonym: "consentimiento", category: "Cultismo", hint: "Permiso o aprobación", difficulty: 3 },
      { id: "c53", word: "exégesis", synonym: "interpretación", category: "Cultismo", hint: "Explicación de un texto", difficulty: 3 },
      { id: "c54", word: "connivencia", synonym: "complicidad", category: "Cultismo", hint: "Tolerancia ante algo ilícito", difficulty: 3 },
      { id: "c55", word: "efugio", synonym: "escapatoria", category: "Cultismo", hint: "Salida o recurso para evadir", difficulty: 3 },

      // ==================== EDUCACIÓN / LITERARIO (~25) ====================
      { id: "e01", word: "pedagogo", synonym: "maestro", category: "Educación", hint: "Persona que se dedica a la enseñanza", difficulty: 1 },
      { id: "e02", word: "didáctica", synonym: "enseñanza", category: "Educación", hint: "Arte de enseñar", difficulty: 1 },
      { id: "e03", word: "currículo", synonym: "plan de estudios", category: "Educación", hint: "Conjunto de materias de un curso", difficulty: 1 },
      { id: "e04", word: "símil", synonym: "comparación", category: "Educación", hint: "Figura retórica: 'como', 'igual que'", difficulty: 2 },
      { id: "e05", word: "metáfora", synonym: "imagen", category: "Educación", hint: "Identificación entre dos términos: 'tus ojos son soles'", difficulty: 1 },
      { id: "e06", word: "hipérbole", synonym: "exageración", category: "Educación", hint: "Figura retórica: 'te lo he dicho mil veces'", difficulty: 1 },
      { id: "e07", word: "elipsis", synonym: "omisión", category: "Educación", hint: "Supresión de un elemento de la frase", difficulty: 2 },
      { id: "e08", word: "antítesis", synonym: "contraste", category: "Educación", hint: "Contraposición de ideas: 'fuego y hielo'", difficulty: 2 },
      { id: "e09", word: "etopeya", synonym: "retrato moral", category: "Educación", hint: "Descripción del carácter de una persona", difficulty: 3 },
      { id: "e10", word: "prosopografía", synonym: "retrato físico", category: "Educación", hint: "Descripción del aspecto exterior", difficulty: 3 },
      { id: "e11", word: "alegoría", synonym: "simbolismo", category: "Educación", hint: "Metáfora extendida a todo un texto", difficulty: 2 },
      { id: "e12", word: "parábola", synonym: "enseñanza moral", category: "Educación", hint: "Relato breve con moraleja", difficulty: 2 },
      { id: "e13", word: "apólogo", synonym: "fábula", category: "Educación", hint: "Narración con animales que enseña una lección", difficulty: 3 },
      { id: "e14", word: "soliloquio", synonym: "monólogo", category: "Educación", hint: "Hablar consigo mismo en voz alta", difficulty: 2 },
      { id: "e15", word: "pleonasmo", synonym: "redundancia", category: "Educación", hint: "Repetición innecesaria: 'subir arriba'", difficulty: 2 },
      { id: "e16", word: "lítote", synonym: "atenuación", category: "Educación", hint: "Negar lo contrario: 'no es malo' = es bueno", difficulty: 3 },
      { id: "e17", word: "metonimia", synonym: "sustitución", category: "Educación", hint: "Nombrar algo por su relación: 'tomar una copa'", difficulty: 2 },
      { id: "e18", word: "sinécdoque", synonym: "parte por todo", category: "Educación", hint: "Un tipo de metonimia: 'tiene quince primaveras'", difficulty: 3 },
      { id: "e19", word: "anáfora", synonym: "repetición inicial", category: "Educación", hint: "Repetir una palabra al inicio de varios versos", difficulty: 2 },
      { id: "e20", word: "epíteto", synonym: "adjetivo ornamental", category: "Educación", hint: "'La blanca nieve' — adjetivo que no añade información", difficulty: 2 },
      { id: "e21", word: "estrofa", synonym: "grupo de versos", category: "Educación", hint: "Conjunto de versos que forman una unidad", difficulty: 1 },
      { id: "e22", word: "rima", synonym: "concordancia sonora", category: "Educación", hint: "Coincidencia de sonidos al final de los versos", difficulty: 1 },
      { id: "e23", word: "prosa", synonym: "texto sin verso", category: "Educación", hint: "Forma natural del lenguaje, sin rima ni medida", difficulty: 1 },
      { id: "e24", word: "aliteración", synonym: "repetición de sonidos", category: "Educación", hint: "'Con el ala aleve del leve abanico'", difficulty: 2 },
      { id: "e25", word: "oxímoron", synonym: "contradicción", category: "Educación", hint: "Unir opuestos: 'silencio atronador'", difficulty: 2 },
      { id: "e26", word: "asíndeton", synonym: "sin conjunciones", category: "Educación", hint: "Omisión de nexos: 'vine, vi, vencí'", difficulty: 3 },
      { id: "e27", word: "polisíndeton", synonym: "muchas conjunciones", category: "Educación", hint: "Repetición de nexos: 'y corre y salta y ríe'", difficulty: 3 },
      { id: "e28", word: "fonema", synonym: "sonido mínimo", category: "Educación", hint: "Unidad mínima de sonido que distingue significados", difficulty: 2 },
      { id: "e29", word: "grafema", synonym: "letra", category: "Educación", hint: "Representación escrita de un fonema", difficulty: 2 },
      { id: "e30", word: "lexema", synonym: "raíz", category: "Educación", hint: "Parte de la palabra con significado propio: 'niñ-' en 'niños'", difficulty: 2 },
      { id: "e31", word: "morfema", synonym: "unidad mínima", category: "Educación", hint: "Unidad más pequeña con significado gramatical: '-s', '-ción'", difficulty: 2 },
      { id: "e32", word: "sintagma", synonym: "grupo de palabras", category: "Educación", hint: "Conjunto de palabras con una función: 'el gato negro'", difficulty: 2 },
      { id: "e33", word: "semántica", synonym: "significado", category: "Educación", hint: "Estudio del significado de las palabras", difficulty: 1 },
      { id: "e34", word: "sintaxis", synonym: "estructura", category: "Educación", hint: "Estudio del orden de las palabras en la oración", difficulty: 1 },
      { id: "e35", word: "pragmática", synonym: "uso del lenguaje", category: "Educación", hint: "Estudio del lenguaje según el contexto", difficulty: 2 },
      { id: "e36", word: "lírica", synonym: "poesía", category: "Educación", hint: "Género que expresa sentimientos subjetivos", difficulty: 1 },
      { id: "e37", word: "dramática", synonym: "teatro", category: "Educación", hint: "Género para ser representado en escena", difficulty: 1 },
      { id: "e38", word: "narrativa", synonym: "relato", category: "Educación", hint: "Género que cuenta una historia con narrador", difficulty: 1 },
      { id: "e39", word: "soneto", synonym: "14 versos", category: "Educación", hint: "Composición de 2 cuartetos + 2 tercetos", difficulty: 2 },
      { id: "e40", word: "romance", synonym: "versos octosílabos", category: "Educación", hint: "Serie de versos de 8 sílabas, rima asonante en pares", difficulty: 2 },
      { id: "e41", word: "sinalefa", synonym: "unión de vocales", category: "Educación", hint: "Unir vocal final con inicial al medir versos", difficulty: 3 },
      { id: "e42", word: "diéresis", synonym: "separar vocales", category: "Educación", hint: "Romper un diptongo para sumar una sílaba al verso", difficulty: 3 },
      { id: "e43", word: "hemistiquio", synonym: "medio verso", category: "Educación", hint: "Cada mitad de un verso dividido por cesura", difficulty: 3 },
      { id: "e44", word: "protagonista", synonym: "personaje principal", category: "Educación", hint: "El personaje central de la historia", difficulty: 1 },
      { id: "e45", word: "antagonista", synonym: "oponente", category: "Educación", hint: "Personaje que se opone al protagonista", difficulty: 1 },
      { id: "e46", word: "clímax", synonym: "punto culminante", category: "Educación", hint: "Momento de máxima tensión en la trama", difficulty: 1 },
      { id: "e47", word: "desenlace", synonym: "final", category: "Educación", hint: "Resolución de los conflictos de la historia", difficulty: 1 },
      { id: "e48", word: "verso libre", synonym: "sin métrica fija", category: "Educación", hint: "Verso que no sigue un patrón de rima o medida", difficulty: 2 },
      { id: "e49", word: "apóstrofe", synonym: "invocación", category: "Educación", hint: "Dirigirse a algo ausente: '¡Oh, libertad!'", difficulty: 3 },
      { id: "e50", word: "perífrasis", synonym: "rodeo", category: "Educación", hint: "Decir con muchas palabras lo que cabe en pocas", difficulty: 2 },
      { id: "e51", word: "ironía", synonym: "sarcasmo", category: "Educación", hint: "Decir lo contrario de lo que se piensa", difficulty: 1 },
      { id: "e52", word: "onomatopeya", synonym: "imitación sonora", category: "Educación", hint: "Palabra que imita un sonido: 'miau', 'tic-tac'", difficulty: 1 },
      { id: "e53", word: "encabalgamiento", synonym: "verso partido", category: "Educación", hint: "Frase que no termina al final del verso y sigue en el siguiente", difficulty: 2 },
      { id: "e54", word: "hipérbaton", synonym: "orden alterado", category: "Educación", hint: "Alterar el orden natural de la frase: 'Del salón en el ángulo oscuro'", difficulty: 2 },
      { id: "e55", word: "polisemia", synonym: "varios significados", category: "Educación", hint: "Palabra con múltiples acepciones: 'banco' (asiento/entidad)", difficulty: 2 },
    ];

    // Extraer categorías únicas
    const CATEGORIES = [...new Set(SYNONYMS.map(s => s.category))];

    // ===================================================================
    // ALMACENAMIENTO (localStorage)
    // ===================================================================
    const STORAGE_PREFIX = 'sinoniza_';

    function loadProgress() {
      try {
        const data = localStorage.getItem(STORAGE_PREFIX + 'progress');
        return data ? JSON.parse(data) : {};
      } catch { return {}; }
    }

    function saveProgress(progress) {
      localStorage.setItem(STORAGE_PREFIX + 'progress', JSON.stringify(progress));
    }

    function loadSettings() {
      try {
        const data = localStorage.getItem(STORAGE_PREFIX + 'settings');
        return data ? JSON.parse(data) : { categories: CATEGORIES.slice() };
      } catch { return { categories: CATEGORIES.slice() }; }
    }

    function saveSettings(settings) {
      localStorage.setItem(STORAGE_PREFIX + 'settings', JSON.stringify(settings));
    }

    function clearAllData() {
      localStorage.removeItem(STORAGE_PREFIX + 'progress');
      localStorage.removeItem(STORAGE_PREFIX + 'settings');
      localStorage.removeItem(STORAGE_PREFIX + 'xp');
    }

    // ===================================================================
    // ALGORITMO DE REPETICIÓN ESPACIADA (LEITNER)
    // ===================================================================
    const BOX_WEIGHTS = { 0: 20, 1: 16, 2: 8, 3: 4, 4: 2, 5: 1 };
    // box 0 = nunca vista, boxes 1-5 = cajas Leitner

    function getCardBox(cardId, progress) {
      return progress[cardId] ? progress[cardId].box : 0;
    }

    function selectNextCard(allWords, progress, selectedCategories, lastCardId) {
      const filtered = allWords.filter(w => selectedCategories.includes(w.category));
      if (filtered.length === 0) return null;
      if (filtered.length === 1) return filtered[0];

      // Calcular pesos
      let totalWeight = 0;
      const weights = filtered.map(word => {
        if (word.id === lastCardId) return 0; // Evitar repetir
        const box = getCardBox(word.id, progress);
        const weight = BOX_WEIGHTS[box] || 1;
        totalWeight += weight;
        return weight;
      });

      if (totalWeight === 0) {
        // Solo queda la última carta, devolverla
        return filtered.find(w => w.id === lastCardId) || filtered[0];
      }

      // Selección ponderada
      let random = Math.random() * totalWeight;
      for (let i = 0; i < filtered.length; i++) {
        random -= weights[i];
        if (random <= 0) return filtered[i];
      }
      return filtered[filtered.length - 1];
    }

    function handleCorrect(cardId, progress) {
      const current = progress[cardId] || { box: 0, correct: 0, incorrect: 0 };
      return {
        ...progress,
        [cardId]: {
          box: Math.min(current.box === 0 ? 1 : current.box + 1, 5),
          correct: (current.correct || 0) + 1,
          incorrect: current.incorrect || 0,
          lastSeen: Date.now(),
          lastResult: 'correct'
        }
      };
    }

    function handleIncorrect(cardId, progress) {
      const current = progress[cardId] || { box: 0, correct: 0, incorrect: 0 };
      return {
        ...progress,
        [cardId]: {
          box: 1,
          correct: current.correct || 0,
          incorrect: (current.incorrect || 0) + 1,
          lastSeen: Date.now(),
          lastResult: 'incorrect'
        }
      };
    }

    // Obtener palabras falladas la última vez
    function getFailedWords(progress, selectedCategories) {
      return SYNONYMS.filter(w =>
        selectedCategories.includes(w.category) &&
        progress[w.id] &&
        progress[w.id].lastResult === 'incorrect'
      );
    }

    function getGlobalStats(progress) {
      const entries = Object.values(progress);
      if (entries.length === 0) return { studied: 0, accuracy: 0, mastered: 0 };
      const totalCorrect = entries.reduce((sum, e) => sum + (e.correct || 0), 0);
      const totalIncorrect = entries.reduce((sum, e) => sum + (e.incorrect || 0), 0);
      const total = totalCorrect + totalIncorrect;
      const mastered = entries.filter(e => e.box >= 5).length;
      return {
        studied: entries.length,
        accuracy: total > 0 ? Math.round((totalCorrect / total) * 100) : 0,
        mastered
      };
    }

    // ===================================================================
    // GAMIFICACIÓN: XP + NIVELES
    // ===================================================================
    const LEVELS = [
      { name: 'Principiante', xp: 0, emoji: '📖' },
      { name: 'Aprendiz', xp: 100, emoji: '📝' },
      { name: 'Estudiante', xp: 300, emoji: '🎒' },
      { name: 'Conocedor', xp: 600, emoji: '🧠' },
      { name: 'Erudito', xp: 1000, emoji: '📚' },
      { name: 'Sabio', xp: 1600, emoji: '🦉' },
      { name: 'Maestro', xp: 2500, emoji: '🎓' },
      { name: 'Catedrático', xp: 4000, emoji: '👨‍🏫' },
      { name: 'Académico', xp: 6000, emoji: '🏛️' },
      { name: 'Leyenda', xp: 10000, emoji: '👑' },
    ];

    function loadXP() {
      try { return parseInt(localStorage.getItem(STORAGE_PREFIX + 'xp') || '0'); }
      catch { return 0; }
    }

    function saveXP(xp) {
      localStorage.setItem(STORAGE_PREFIX + 'xp', String(xp));
    }

    function getLevel(xp) {
      let level = LEVELS[0];
      for (const l of LEVELS) {
        if (xp >= l.xp) level = l;
        else break;
      }
      return level;
    }

    function getNextLevel(xp) {
      for (const l of LEVELS) {
        if (xp < l.xp) return l;
      }
      return null; // max level
    }

    function calcXP(isCorrect, streak, difficulty) {
      if (isCorrect) {
        let base = 10 * difficulty;
        if (streak >= 10) base += 15;
        else if (streak >= 5) base += 10;
        else if (streak >= 3) base += 5;
        return base;
      } else {
        // Penalización por fallo (menos que lo que ganas, para que haya progreso neto)
        let penalty = -3 * difficulty;
        if (streak >= 5) penalty = -8 * difficulty;
        else if (streak >= 3) penalty = -5 * difficulty;
        return penalty;
      }
    }

    // ===================================================================
    // APLICACIÓN
    // ===================================================================
    const app = document.getElementById('app');

    let state = {
      screen: 'start',
      progress: loadProgress(),
      settings: loadSettings(),
      xp: loadXP(),
      currentCard: null,
      lastCardId: null,
      isFlipped: false,
      cardAnimating: false,
      sessionStats: { total: 0, correct: 0, incorrect: 0, streak: 0, bestStreak: 0, wrongCards: [], xpGained: 0, wrongStreak: 0, startLevelName: null },
      showResetConfirm: false,
      failsOnly: false,
      failsPool: []
    };

    function setState(updates) {
      Object.assign(state, updates);
      render();
    }

    function getDifficultyStars(d) {
      if (d === 1) return '⭐';
      if (d === 2) return '⭐⭐';
      return '⭐⭐⭐';
    }

    // Auto-tamaño según longitud del texto
    function getWordClasses(text) {
      const len = text.length;
      if (len <= 8) return 'size-xl';
      if (len <= 13) return 'size-lg';
      if (len <= 19) return 'size-md';
      return 'size-sm';
    }

    function toggleCategory(cat) {
      const cats = state.settings.categories.slice();
      const idx = cats.indexOf(cat);
      if (idx >= 0) {
        if (cats.length === 1) return; // Al menos una categoría
        cats.splice(idx, 1);
      } else {
        cats.push(cat);
      }
      const newSettings = { ...state.settings, categories: cats };
      saveSettings(newSettings);
      setState({ settings: newSettings });
    }

    function startGame(onlyFails) {
      const failsOnly = !!onlyFails;
      let pool = SYNONYMS;
      if (failsOnly) {
        pool = getFailedWords(state.progress, state.settings.categories);
        if (pool.length === 0) return;
      }
      const card = selectNextCard(pool, state.progress, state.settings.categories, null);
      if (!card) return;
      setState({
        screen: 'playing',
        currentCard: card,
        lastCardId: null,
        isFlipped: false,
        cardAnimating: true,
        failsOnly,
        failsPool: failsOnly ? pool : [],
        sessionStats: { total: 0, correct: 0, incorrect: 0, streak: 0, bestStreak: 0, wrongStreak: 0, wrongCards: [], xpGained: 0, startLevelName: getLevel(state.xp).name }
      });
      setTimeout(() => setState({ cardAnimating: false }), 350);
    }

    function flipCard() {
      if (state.isFlipped) return;
      setState({ isFlipped: true });
    }

    function showXPPopup(xpGained, isCorrect) {
      const popup = document.createElement('div');
      popup.className = `xp-popup ${isCorrect ? 'correct' : 'incorrect'}`;
      popup.textContent = isCorrect ? `+${xpGained} XP` : `${xpGained} XP`;
      document.body.appendChild(popup);
      setTimeout(() => popup.remove(), 800);
    }

    const LEVEL_UP_MESSAGES = [
      '¡Imparable! Sigue así 💪',
      '¡Tu vocabulario crece sin parar!',
      '¡Cervantes estaría orgulloso!',
      '¡La oposición es tuya!',
      '¡Menudo nivel estás cogiendo!',
    ];
    const LEVEL_DOWN_MESSAGES = [
      '¡No pasa nada! Todos tenemos días malos 😅',
      '¡Ánimo! Un tropezón no es caída 🤷',
      'Roma no se construyó en un día... 🏗️',
      '¡Vamos, que tú puedes! A por ello 💪',
      'Caer está permitido, levantarse es obligatorio 😤',
    ];

    function showLevelPopup(direction, level) {
      const messages = direction === 'up' ? LEVEL_UP_MESSAGES : LEVEL_DOWN_MESSAGES;
      const msg = messages[Math.floor(Math.random() * messages.length)];
      const title = direction === 'up' ? '¡Subida de nivel!' : '¡Has bajado de nivel!';

      const overlay = document.createElement('div');
      overlay.className = 'level-popup-overlay';
      overlay.innerHTML = `
        <div class="level-popup ${direction}">
          <div class="level-popup-emoji">${level.emoji}</div>
          <div class="level-popup-title">${title}</div>
          <div class="level-popup-level">${level.name}</div>
          <div class="level-popup-msg">${msg}</div>
          <button class="level-popup-dismiss">Continuar</button>
        </div>
      `;
      document.body.appendChild(overlay);

      const dismiss = () => { if (overlay.parentNode) overlay.remove(); };
      overlay.querySelector('.level-popup-dismiss').addEventListener('click', dismiss);
      overlay.addEventListener('click', (e) => { if (e.target === overlay) dismiss(); });
      setTimeout(dismiss, 3000);
    }

    function answerCorrect() {
      if (!state.currentCard) return;
      const newProgress = handleCorrect(state.currentCard.id, state.progress);
      saveProgress(newProgress);
      const newStreak = state.sessionStats.streak + 1;
      const xpEarned = calcXP(true, newStreak, state.currentCard.difficulty);
      const prevLevel = getLevel(state.xp);
      const newXP = state.xp + xpEarned;
      const newLevel = getLevel(newXP);
      saveXP(newXP);
      showXPPopup(xpEarned, true);
      // Popup de subida de nivel en tiempo real
      if (newLevel.name !== prevLevel.name) {
        setTimeout(() => showLevelPopup('up', newLevel), 300);
      }
      const stats = {
        ...state.sessionStats,
        total: state.sessionStats.total + 1,
        correct: state.sessionStats.correct + 1,
        streak: newStreak,
        bestStreak: Math.max(newStreak, state.sessionStats.bestStreak),
        wrongStreak: 0,
        xpGained: state.sessionStats.xpGained + xpEarned
      };
      nextCard(newProgress, stats, newXP);
    }

    function answerIncorrect() {
      if (!state.currentCard) return;
      const newProgress = handleIncorrect(state.currentCard.id, state.progress);
      saveProgress(newProgress);
      const newWrongStreak = state.sessionStats.wrongStreak + 1;
      const xpLost = calcXP(false, newWrongStreak, state.currentCard.difficulty);
      const prevLevel = getLevel(state.xp);
      const newXP = Math.max(0, state.xp + xpLost);
      const newLevel = getLevel(newXP);
      saveXP(newXP);
      showXPPopup(xpLost, false);
      // Popup de bajada de nivel en tiempo real
      if (newLevel.name !== prevLevel.name) {
        setTimeout(() => showLevelPopup('down', newLevel), 300);
      }
      const stats = {
        ...state.sessionStats,
        total: state.sessionStats.total + 1,
        incorrect: state.sessionStats.incorrect + 1,
        streak: 0,
        wrongStreak: newWrongStreak,
        xpGained: state.sessionStats.xpGained + xpLost,
        wrongCards: [...state.sessionStats.wrongCards, state.currentCard]
      };
      nextCard(newProgress, stats, newXP);
    }

    function nextCard(newProgress, stats, newXP) {
      const pool = state.failsOnly ? state.failsPool : SYNONYMS;
      const card = selectNextCard(pool, newProgress, state.settings.categories, state.currentCard.id);
      if (!card) {
        setState({ progress: newProgress, sessionStats: stats, xp: newXP, screen: 'summary' });
        return;
      }
      setState({
        progress: newProgress,
        sessionStats: stats,
        xp: newXP,
        currentCard: card,
        lastCardId: state.currentCard.id,
        isFlipped: false,
        cardAnimating: true
      });
      setTimeout(() => setState({ cardAnimating: false }), 350);
    }

    function endSession() {
      setState({ screen: 'summary' });
    }

    function goHome() {
      setState({ screen: 'start', showResetConfirm: false });
    }

    function resetProgress() {
      clearAllData();
      setState({
        progress: {},
        settings: { categories: CATEGORIES.slice() },
        xp: 0,
        showResetConfirm: false
      });
    }

    // ===================================================================
    // RENDERIZADO
    // ===================================================================
    function render() {
      if (state.screen === 'start') renderStart();
      else if (state.screen === 'playing') renderGame();
      else if (state.screen === 'summary') renderSummary();
    }

    function renderStart() {
      const stats = getGlobalStats(state.progress);
      const totalWords = SYNONYMS.length;

      app.innerHTML = `
        <div class="start-screen">
          <div class="logo">Sinoniza</div>
          <div class="subtitle">Flashcards de sinónimos para oposiciones</div>

          ${(() => {
            const level = getLevel(state.xp);
            const next = getNextLevel(state.xp);
            const xpInLevel = state.xp - level.xp;
            const xpNeeded = next ? next.xp - level.xp : 1;
            const pct = next ? Math.min(100, Math.round((xpInLevel / xpNeeded) * 100)) : 100;
            return stats.studied > 0 ? `
              <div class="level-section">
                <div class="level-header">
                  <div class="level-name">${level.emoji} ${level.name}</div>
                  <div class="level-xp">${state.xp} XP</div>
                </div>
                <div class="xp-bar-container">
                  <div class="xp-bar" style="width: ${pct}%"></div>
                </div>
                ${next ? `<div style="font-size: 11px; color: var(--text-muted); text-align: right;">${next.xp - state.xp} XP para ${next.emoji} ${next.name}</div>` : `<div style="font-size: 11px; color: #F59E0B; text-align: center;">¡Nivel máximo alcanzado!</div>`}
              </div>
              <div class="stats-box">
                <div class="stat-item">
                  <div class="stat-value">${stats.studied}</div>
                  <div class="stat-label">Estudiadas</div>
                </div>
                <div class="stat-item">
                  <div class="stat-value">${stats.accuracy}%</div>
                  <div class="stat-label">Aciertos</div>
                </div>
                <div class="stat-item">
                  <div class="stat-value">${stats.mastered}</div>
                  <div class="stat-label">Dominadas</div>
                </div>
              </div>
            ` : `
              <div class="level-section">
                <div class="level-header">
                  <div class="level-name">${level.emoji} ${level.name}</div>
                  <div class="level-xp">0 XP</div>
                </div>
                <div class="xp-bar-container">
                  <div class="xp-bar" style="width: 0%"></div>
                </div>
                <div style="font-size: 11px; color: var(--text-muted); text-align: center;">${totalWords} palabras por descubrir</div>
              </div>
            `;
          })()}

          <div class="category-section">
            <div class="category-title">Categorías</div>
            <div class="category-chips" id="chips"></div>
          </div>

          <div class="start-buttons" id="start-buttons"></div>

          ${stats.studied > 0 ? `
            <button class="btn btn-ghost" id="btn-reset">Reiniciar progreso</button>
          ` : ''}

          ${state.showResetConfirm ? `
            <div class="reset-confirm">
              <p>Se borrará todo tu progreso. ¿Estás seguro?</p>
              <div class="reset-confirm-buttons">
                <button class="btn btn-danger btn-sm" id="btn-confirm-reset">Sí, borrar</button>
                <button class="btn btn-ghost btn-sm" id="btn-cancel-reset">Cancelar</button>
              </div>
            </div>
          ` : ''}
        </div>
      `;

      // Chips de categorías
      const chipsContainer = document.getElementById('chips');
      CATEGORIES.forEach(cat => {
        const count = SYNONYMS.filter(s => s.category === cat).length;
        const isActive = state.settings.categories.includes(cat);
        const chip = document.createElement('button');
        chip.className = 'chip' + (isActive ? ' active' : '');
        chip.innerHTML = `${cat}<span class="chip-count">${count}</span>`;
        chip.addEventListener('click', () => toggleCategory(cat));
        chipsContainer.appendChild(chip);
      });

      // Botones de inicio
      const startBtns = document.getElementById('start-buttons');
      const failedWords = getFailedWords(state.progress, state.settings.categories);
      const hasProgress = stats.studied > 0;

      if (hasProgress) {
        startBtns.innerHTML = `
          <button class="btn btn-primary" id="btn-start">Completo</button>
          <button class="btn btn-fails" id="btn-fails" ${failedWords.length === 0 ? 'disabled' : ''}>
            Fallos
            <span class="fail-count">${failedWords.length} palabras</span>
          </button>
        `;
        document.getElementById('btn-fails').addEventListener('click', () => startGame(true));
      } else {
        startBtns.innerHTML = `<button class="btn btn-primary" id="btn-start">Empezar</button>`;
      }
      document.getElementById('btn-start').addEventListener('click', () => startGame(false));

      const resetBtn = document.getElementById('btn-reset');
      if (resetBtn) {
        resetBtn.addEventListener('click', () => setState({ showResetConfirm: true }));
      }

      const confirmResetBtn = document.getElementById('btn-confirm-reset');
      if (confirmResetBtn) {
        confirmResetBtn.addEventListener('click', resetProgress);
      }

      const cancelResetBtn = document.getElementById('btn-cancel-reset');
      if (cancelResetBtn) {
        cancelResetBtn.addEventListener('click', () => setState({ showResetConfirm: false }));
      }
    }

    function renderGame() {
      const card = state.currentCard;
      if (!card) return;

      const box = getCardBox(card.id, state.progress);
      const { total, correct, incorrect, streak } = state.sessionStats;
      const accuracy = total > 0 ? Math.round((correct / total) * 100) : 100;
      const accClass = accuracy >= 70 ? 'good' : accuracy >= 40 ? 'mid' : 'bad';

      app.innerHTML = `
        <div class="game-screen">
          <div class="game-header">
            <div class="progress-info">
              ${state.failsOnly ? `<div class="progress-stat" style="color: var(--danger); font-weight: 600;">Solo fallos</div>` : ''}
              <div class="progress-stat"><span>${total}</span> tarjetas</div>
              ${streak >= 3 ? `<div class="streak-badge streak-fire">🔥 ${streak}</div>` : ''}
              ${state.sessionStats.wrongStreak >= 3 ? `<div class="streak-badge streak-ice">🥶 ${state.sessionStats.wrongStreak}</div>` : ''}
            </div>
            <div style="display: flex; align-items: center; gap: 10px;">
              <div class="xp-display">${state.xp} XP</div>
              ${total > 0 ? `<div class="accuracy ${accClass}">${accuracy}%</div>` : ''}
              <button class="btn btn-ghost" id="btn-end">Terminar</button>
            </div>
          </div>

          <div class="card-area">
            <div class="card-container">
              <div class="card ${state.isFlipped ? 'flipped' : ''} ${state.cardAnimating ? 'card-enter' : ''}" id="the-card">
                <div class="card-face card-front">
                  <div class="card-top-row">
                    <div class="card-category">${card.category}</div>
                    <div class="card-difficulty">${getDifficultyStars(card.difficulty)}</div>
                  </div>
                  <div class="card-center">
                    <div class="card-word ${getWordClasses(card.word)}">${card.word}</div>
                  </div>
                  <div class="card-box-indicator">
                    ${[1,2,3,4,5].map(i => `<div class="box-dot ${i <= box ? 'filled' : ''}"></div>`).join('')}
                  </div>
                </div>
                <div class="card-face card-back">
                  <div class="card-top-row">
                    <div class="card-category">${card.category}</div>
                  </div>
                  <div class="card-center">
                    <div class="card-word ${getWordClasses(card.synonym)}">${card.synonym}</div>
                    ${card.hint ? `<div class="card-hint">${card.hint}</div>` : ''}
                  </div>
                  <div class="card-box-indicator">
                    ${[1,2,3,4,5].map(i => `<div class="box-dot ${i <= box ? 'filled' : ''}"></div>`).join('')}
                  </div>
                </div>
              </div>
            </div>

            <div class="action-area">
              ${!state.isFlipped ? `
                <button class="btn btn-flip" id="btn-flip">Dar la vuelta</button>
              ` : `
                <div class="result-buttons">
                  <button class="btn btn-danger" id="btn-wrong">✗ Error</button>
                  <button class="btn btn-success" id="btn-right">✓ Acierto</button>
                </div>
              `}
            </div>
          </div>
        </div>
      `;

      // Event listeners
      document.getElementById('btn-end').addEventListener('click', endSession);

      const theCard = document.getElementById('the-card');
      theCard.addEventListener('click', flipCard);

      const flipBtn = document.getElementById('btn-flip');
      if (flipBtn) flipBtn.addEventListener('click', flipCard);

      const rightBtn = document.getElementById('btn-right');
      if (rightBtn) rightBtn.addEventListener('click', answerCorrect);

      const wrongBtn = document.getElementById('btn-wrong');
      if (wrongBtn) wrongBtn.addEventListener('click', answerIncorrect);
    }

    function renderSummary() {
      const { total, correct, incorrect, bestStreak, wrongCards } = state.sessionStats;
      const accuracy = total > 0 ? Math.round((correct / total) * 100) : 0;

      // Eliminar duplicados de wrongCards
      const uniqueWrong = wrongCards.filter((card, idx, arr) =>
        arr.findIndex(c => c.id === card.id) === idx
      );

      const { xpGained, startLevelName } = state.sessionStats;
      const level = getLevel(state.xp);
      const next = getNextLevel(state.xp);
      const xpInLevel = state.xp - level.xp;
      const xpNeeded = next ? next.xp - level.xp : 1;
      const pct = next ? Math.min(100, Math.round((xpInLevel / xpNeeded) * 100)) : 100;
      const levelChanged = startLevelName && startLevelName !== level.name;
      const wentUp = levelChanged && level.xp > (LEVELS.find(l => l.name === startLevelName)?.xp || 0);

      app.innerHTML = `
        <div class="summary-screen">
          <div class="summary-title">Sesión completada</div>

          ${xpGained !== 0 ? `<div class="summary-xp-gained" style="color: ${xpGained > 0 ? 'var(--primary-light)' : 'var(--danger)'};">${xpGained > 0 ? '+' : ''}${xpGained} XP</div>` : ''}
          ${levelChanged ? `<div class="${wentUp ? 'summary-level-up' : 'summary-level-down'}">${wentUp ? '🎉' : '😅'} ${wentUp ? '¡Subiste' : '¡Bajaste'} a ${level.emoji} ${level.name}!</div>` : ''}

          <div class="level-section">
            <div class="level-header">
              <div class="level-name">${level.emoji} ${level.name}</div>
              <div class="level-xp">${state.xp} XP</div>
            </div>
            <div class="xp-bar-container">
              <div class="xp-bar" style="width: ${pct}%"></div>
            </div>
          </div>

          <div class="summary-stats">
            <div class="summary-stat">
              <div class="summary-stat-value total">${total}</div>
              <div class="summary-stat-label">Tarjetas</div>
            </div>
            <div class="summary-stat">
              <div class="summary-stat-value" style="color: var(--primary-light);">${accuracy}%</div>
              <div class="summary-stat-label">Aciertos</div>
            </div>
            <div class="summary-stat">
              <div class="summary-stat-value correct">${correct}</div>
              <div class="summary-stat-label">Correctas</div>
            </div>
            <div class="summary-stat">
              <div class="summary-stat-value incorrect">${incorrect}</div>
              <div class="summary-stat-label">Incorrectas</div>
            </div>
          </div>

          ${bestStreak > 2 ? `
            <div style="text-align: center; color: var(--text-secondary); font-size: 15px;">
              🔥 Mejor racha: <strong style="color: var(--success);">${bestStreak}</strong> aciertos seguidos
            </div>
          ` : ''}

          ${uniqueWrong.length > 0 ? `
            <div class="wrong-words-section">
              <div class="wrong-words-title">Palabras para repasar (${uniqueWrong.length})</div>
              ${uniqueWrong.map(card => `
                <div class="wrong-word-item">
                  <span class="word">${card.word}</span>
                  <span class="arrow">→</span>
                  <span class="synonym">${card.synonym}</span>
                </div>
              `).join('')}
            </div>
          ` : `
            <div style="text-align: center; color: var(--success); font-size: 16px; padding: 16px 0;">
              ¡Perfecto! No has fallado ninguna 🎯
            </div>
          `}

          <div class="summary-buttons">
            <button class="btn btn-primary" id="btn-again">Otra ronda</button>
            <button class="btn btn-secondary" id="btn-home">Volver al inicio</button>
          </div>
        </div>
      `;

      document.getElementById('btn-again').addEventListener('click', startGame);
      document.getElementById('btn-home').addEventListener('click', goHome);
    }

    // ===================================================================
    // INICIAR
    // ===================================================================
    render();
  </script>
</body>
</html>
